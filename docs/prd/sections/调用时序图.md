# 调用时序图

```
Agent Node执行
    ↓
1. Canvas操作 (write_to_canvas, create_md_file_for_canvas)
    ↓ ← 关键路径，失败则整个操作失败
2. 业务层记忆存储 (非关键路径，最终一致性)
    ├─→ store_to_graphiti_memory()
    ├─→ store_to_temporal_memory()
    └─→ store_to_semantic_memory() [仅解释文档]
    ↓ ← 失败仅记录日志，不阻塞
3. Agent返回new_state
    ↓
LangGraph框架自动持久化State到Checkpointer
    ↓
操作完成
```

---
