# æ•™æå¼•ç”¨ ğŸ“š
> æ¥æº: ç¬¬3ç« -å‘é‡ç©ºé—´.canvas - åŸºåº•èŠ‚ç‚¹
> æ–‡æ¡£: [åŸºåº•-clarification-20250110.md](...)

åŸºåº•çš„å®šä¹‰: å‘é‡ç©ºé—´Vçš„ä¸€ç»„åŸºæ˜¯...
"""
```

**éªŒæ”¶æ ‡å‡†**:
- âœ… ç”¨æˆ·å¯é€šè¿‡UIé€‰æ‹©å…³è”Canvas
- âœ… å…³è”é…ç½®æŒä¹…åŒ–å­˜å‚¨
- âœ… å…³è”æ¨¡å¼å¯éšæ—¶å¼€å¯/å…³é—­ (Toggle)
- âœ… Agentç”Ÿæˆçš„è§£é‡Šè‡ªåŠ¨åŒ…å«æ•™æå¼•ç”¨
- âœ… æ•™æå¼•ç”¨æ¥æºæ¸…æ™°æ ‡æ³¨ (Canvasåç§°ã€èŠ‚ç‚¹IDã€æ–‡æ¡£é“¾æ¥)
- âœ… GraphitiçŸ¥è¯†å›¾è°±åŒæ­¥å…³è”å…³ç³»

---

#### FR6-FR10: å…¶ä»–æ ¸å¿ƒåŠŸèƒ½

**FR6**: LangGraphå¤šAgentç¼–æ’ (Must Have - P0)
**FR7**: FastAPI RESTful API (Must Have - P0)
**FR8**: å®æ—¶è¿›åº¦æ¨é€ (Should Have - P1)
**FR9**: é”™è¯¯æ¢å¤å’Œå›æ»šæœºåˆ¶ (Must Have - P0)
**FR10**: è®¾ç½®é¢æ¿å’Œé…ç½®ç®¡ç† (Should Have - P1)

---

### 2.2 éåŠŸèƒ½éœ€æ±‚ (Non-Functional Requirements)

#### NFR1: æ€§èƒ½è¦æ±‚ (Critical)

| æŒ‡æ ‡ | ç›®æ ‡ | å½“å‰ç³»ç»Ÿ | éªŒè¯æ–¹æ³• |
|------|------|---------|---------|
| APIå“åº”æ—¶é—´ (P95) | <2ç§’ | ~1.5ç§’ | æ€§èƒ½åŸºå‡†æµ‹è¯• |
| Canvasæ–‡ä»¶æ“ä½œ | <500ms | ~200ms | å•å…ƒæµ‹è¯• |
| Neo4jæŸ¥è¯¢å“åº” | <500ms | ~80ms | é›†æˆæµ‹è¯• |
| Agentæ‰§è¡Œæ—¶é—´ | ä¿æŒç°æœ‰æ°´å¹³ | 8å€æ€§èƒ½æå‡ | E2Eæµ‹è¯• |
| å¹¶å‘ç”¨æˆ·æ”¯æŒ | â‰¥50ç”¨æˆ· | æœªæµ‹è¯• | è´Ÿè½½æµ‹è¯• |

**å…³é”®çº¦æŸ**: Epic 10.2çš„å¼‚æ­¥å¹¶è¡Œæ‰§è¡Œå¼•æ“(8å€æ€§èƒ½æå‡)å¿…é¡»ä¿ç•™

---

#### NFR2: å¯é æ€§è¦æ±‚ (Critical)

- âœ… **æ•°æ®é›¶ä¸¢å¤±**: æ‰€æœ‰Canvasæ“ä½œå‰è‡ªåŠ¨å¤‡ä»½
  - **å¤‡ä»½æ–‡ä»¶å¤¹**: `{Vaultæ ¹ç›®å½•}/.canvas_backups/`
    - ç³»ç»Ÿé¦–æ¬¡è¿è¡Œæ—¶è‡ªåŠ¨åˆ›å»º
    - åœ¨Obsidianè®¾ç½®ä¸­é…ç½®ä¸ºéšè—æ–‡ä»¶å¤¹ï¼ˆä¸åœ¨æ–‡ä»¶æµè§ˆå™¨æ˜¾ç¤ºï¼‰
  - **å¤‡ä»½å‘½åè§„åˆ™**: `{canvas_name}_{checkpoint_id}.canvas`
    - ç¤ºä¾‹: `ç¦»æ•£æ•°å­¦_ckpt_1699999999.canvas`
  - **å¤‡ä»½è§¦å‘æ—¶æœº**: æ¯æ¬¡LangGraphåˆ›å»ºcheckpointæ—¶è‡ªåŠ¨ç”Ÿæˆ
  - **å¤‡ä»½æ¸…ç†ç­–ç•¥**:
    - æ¯ä¸ªCanvasä¿ç•™æœ€è¿‘50ä¸ªcheckpointå¤‡ä»½
    - è¶…è¿‡50ä¸ªæ—¶è‡ªåŠ¨åˆ é™¤æœ€æ—§çš„å¤‡ä»½
    - ç”¨æˆ·æ‰‹åŠ¨æ ‡è®°ä¸º"å—ä¿æŠ¤"çš„å¤‡ä»½æ°¸ä¸è‡ªåŠ¨åˆ é™¤
  - **å®æ–½ä½ç½®**: Epic 12, Story 12.1

- âœ… æ•…éšœæ¢å¤: APIæ•…éšœæ—¶è‡ªåŠ¨é‡è¯•3æ¬¡
- âœ… å›æ»šæœºåˆ¶: é”™è¯¯æ“ä½œå¯åœ¨10ç§’å†…å›æ»š
- âœ… æœåŠ¡å¯ç”¨æ€§: â‰¥99% (æ¯æœˆåœæœºæ—¶é—´ <7å°æ—¶)

---

#### NFR3: å¯ç»´æŠ¤æ€§è¦æ±‚

- âœ… ä»£ç æµ‹è¯•è¦†ç›–ç‡: â‰¥85%
- âœ… æ–‡æ¡£å®Œæ•´æ€§: 100% (APIæ–‡æ¡£ã€ç”¨æˆ·æŒ‡å—ã€æ¶æ„æ–‡æ¡£)
- âœ… æ—¥å¿—å®Œæ•´æ€§: æ‰€æœ‰APIè°ƒç”¨å’ŒAgentæ‰§è¡Œæœ‰å®Œæ•´æ—¥å¿—
- âœ… ç›‘æ§å‘Šè­¦: é”™è¯¯ç‡>5%è‡ªåŠ¨å‘Šè­¦

---

#### NFR4: å…¼å®¹æ€§è¦æ±‚

| å¹³å°/è½¯ä»¶ | ç‰ˆæœ¬è¦æ±‚ | ä¼˜å…ˆçº§ |
|----------|---------|-------|
| Obsidian | â‰¥1.4.0 | Must Have |
| Windows | 10/11 | Must Have |
| macOS | â‰¥12.0 | Should Have |
| Linux | Ubuntu 20.04+ | Could Have |
| Python | 3.11+ | Must Have |
| Node.js | â‰¥18.0 | Must Have |
| Neo4j | 5.x | Must Have |
| Docker | â‰¥20.10 | Should Have |

---

#### NFR5: å®‰å…¨æ€§è¦æ±‚

- âœ… APIè®¤è¯: Bearer Tokenæˆ–API Key
- âœ… æ•æ„Ÿæ•°æ®åŠ å¯†: OpenAI API KeyåŠ å¯†å­˜å‚¨
- âœ… CORSé…ç½®: ä»…å…è®¸ `app://obsidian.md` è®¿é—®
- âœ… è¾“å…¥éªŒè¯: æ‰€æœ‰APIè¯·æ±‚å‚æ•°éªŒè¯,é˜²æ­¢æ³¨å…¥æ”»å‡»

---

#### NFR6: ç”¨æˆ·ä½“éªŒè¦æ±‚

- âœ… æ“ä½œå“åº”: UIæ“ä½œåé¦ˆ <500ms
- âœ… é”™è¯¯æç¤º: æ¸…æ™°ã€å‹å¥½ã€å¯æ“ä½œ (ä¸æ˜¾ç¤ºæŠ€æœ¯æ ˆé”™è¯¯)
- âœ… åŠ è½½çŠ¶æ€: é•¿æ“ä½œæ˜¾ç¤ºè¿›åº¦æ¡å’Œç™¾åˆ†æ¯”
- âœ… å¸®åŠ©æ–‡æ¡£: å†…ç½®å¸®åŠ©,å¿«æ·é”®Ctrl+? å‘¼å‡º

---
