# Canvas学习系统 - 完整项目简报 v1.0

**创建日期**：2025-01-13
**项目类型**：基于费曼学习法的AI辅助学习系统
**目标平台**：Claude Code + Obsidian Canvas

---

## 📋 目录

1. [项目概述](#项目概述)
2. [核心理念](#核心理念)
3. [系统架构](#系统架构)
4. [Agent设计清单](#agent设计清单)
5. [技术规格](#技术规格)
6. [实施路线图](#实施路线图)
7. [文件清单](#文件清单)

---

## 项目概述

### 🎯 项目目标

构建一个基于Obsidian Canvas的AI辅助学习系统，通过**输出驱动输入**的费曼学习法，帮助用户：
- 将难理解的材料拆解为可理解的子问题
- 通过强制输出暴露真实理解水平
- 通过评分系统和颜色标记追踪学习进度
- 通过无纸化回顾系统巩固知识

### 🌟 核心特性

1. **三大系统协同**
   - 子问题拆解系统：降低理解门槛
   - 补充解释系统：提供多维度解释
   - 无纸化回顾检验系统：验证真实理解

2. **颜色驱动的学习状态管理**
   - 🔴 红色：不理解/未通过
   - 🟢 绿色：完全理解/已通过
   - 🟣 紫色：似懂非懂/待检验
   - 🟡 黄色：个人理解输出区

3. **Agent协作架构**
   - 1个主控Agent协调
   - 12个专项Sub-Agent执行
   - 结构化数据传递

---

## 核心理念

### 💡 费曼学习法的系统化实现

**理论基础**：
```
输入材料时的三层理解：
- 10% 完全理解（绿色）
- 70% 似懂非懂（紫色）→ 需要输出验证
- 20% 难以理解（红色）→ 需要拆解降低门槛
```

**实施策略**：
1. **强制输出**：每个节点旁边都有黄色个人理解板块
2. **拆解降维**：难理解→拆解子问题→降低理解门槛
3. **验证闭环**：输出→评分→通过/不通过→绿色/保持红色
4. **回顾巩固**：紫色节点→无纸化检验→验证真实理解

---

## 系统架构

### 🏗️ 整体架构图

```
┌─────────────────────────────────────────────────────────┐
│                  主控Agent (Orchestrator)                │
│  - 解析用户指令                                           │
│  - 读取Canvas文件并缓存                                   │
│  - 识别聚焦节点和上下文                                   │
│  - 调度Sub-Agent                                         │
│  - 整合结果并更新Canvas                                   │
└──────────────────┬──────────────────────────────────────┘
                   │
        ┌──────────┼──────────┬──────────┬──────────┐
        ▼          ▼          ▼          ▼          ▼
    ┌───────┐  ┌───────┐  ┌───────┐  ┌───────┐  ┌───────┐
    │拆解系列│  │解释系列│  │ 评分  │  │ 检验  │  │ 工具  │
    │3个Agent│  │6个Agent│  │Agent  │  │Agent  │  │Agents │
    └───────┘  └───────┘  └───────┘  └───────┘  └───────┘
```

### 🔄 数据流转

```
用户指令
  → 主控Agent解析
  → 读取Canvas JSON
  → 提取上下文
  → 调用Sub-Agent
  → Sub-Agent返回结果
  → 主控Agent更新Canvas
  → 生成笔记文件（如需要）
  → 用户看到更新的Canvas
```

---

## Agent设计清单

### 1️⃣ 主控Agent
**文件**：`Canvas-Orchestrator.mdc`
**职责**：协调所有Sub-Agent，管理Canvas文件

**核心功能**：
- 指令解析与意图识别
- Canvas JSON读取与解析
- 上下文提取与缓存
- Sub-Agent调度
- Canvas更新与文件生成

---

### 2️⃣ 拆解Agent系列

#### 2.1 基础拆解Agent
**文件**：`Basic-Decomposition-Agent.mdc` ✅ 已创建
**场景**：难以理解的材料（大脑宕机 → 似懂非懂）

**核心策略**：
- 关键句逐句拆解
- 降低抽象层次
- 引导性递进
- 利用SQOS案例库

**输出**：3-7个基础、易回答的子问题

#### 2.2 深度拆解Agent
**文件**：`Deep-Decomposition-Agent.mdc`
**场景**：似懂非懂的材料（似懂非懂 → 完全理解/暴露盲点）

**核心策略**：
- 检验性问题设计
- 对比型、原因型问题
- 边界情况探索
- 应用场景测试

**输出**：3-5个深入、检验性的子问题

#### 2.3 问题拆解Agent
**文件**：`Problem-Decomposition-Agent.mdc`
**场景**：解题时卡壳、思路跑偏

**核心策略**：
- 分析用户个人理解
- 判断思路是否跑偏
- 识别卡壳点
- 生成思维发散型问题

**输出**：针对性的突破型子问题

---

### 3️⃣ 补充解释Agent系列

#### 3.1 口语化解释Agent ⭐新功能⭐
**文件**：`Oral-Explanation-Agent.mdc`
**场景**：材料一开始就难以理解（大脑宕机 → 似懂非懂）

**核心设定**：
- 角色：大学教授/热情的老师
- 风格：口语化、自问自答、互动性强
- 输出：800-1200字Markdown笔记

**输出结构**：
```markdown
# [概念] - 教授的课堂讲解

## 🎯 开场白
[轻松引入话题]

## 💭 核心概念分解
[基础定义 + 互动环节 + 生动类比]

## 🔍 常见困惑解答
[预判学生困惑点]

## 🎓 课堂小结
[总结关键点]
```

#### 3.2 澄清路径Agent
**文件**：`Clarification-Path-Agent.mdc`
**来源**：suq-c.mdc的澄清路径4步骤（精简版）

**4步骤**（每步约100字）：
1. 理解核心概念
2. 分析关键表述
3. 精确化定义
4. 综合理解整合

总计：约400字

#### 3.3 对比表Agent
**文件**：`Comparison-Table-Agent.mdc`
**输出**：结构化对比表

```markdown
| 维度 | 核心概念 | 易混淆概念1 | 易混淆概念2 |
|------|---------|------------|------------|
| 定义 | ... | ... | ... |
| 核心特征 | ... | ... | ... |
| 典型应用 | ... | ... | ... |
| 记忆口诀 | ... | ... | ... |
```

#### 3.4 记忆锚点Agent
**文件**：`Memory-Anchor-Agent.mdc`
**输出**：
- 1个独特比喻
- 1个完整故事（100字）
- 1个押韵口诀

#### 3.5 四层次解答Agent
**文件**：`Four-Level-Agent.mdc`
**输出**（每层100字）：
- 🌱 新手层：大白话 + 生活类比
- 🌿 进阶层：技术原理 + 机制说明
- 🌳 专家层：理论基础 + 边界条件
- 🌟 创新层：发展趋势 + 创新应用

#### 3.6 例题教学Agent ⭐新功能⭐
**文件**：`Example-Teaching-Agent.mdc`
**场景**：面对题目完全无思路

**输出结构**：
```markdown
# [题目] - 例题教学

## 📌 题目分析
## 🎯 解题思路框架
## 🔑 关键破题点
## 📝 完整解题过程
## 💡 解题技巧总结
## 🔄 相似题型
## ✅ 复习检验点
```

---

### 4️⃣ 评分Agent
**文件**：`Scoring-Agent.mdc`
**职责**：评估用户黄色个人理解的质量

**评分标准**（沿用suq.mdc的4维度）：
```yaml
准确性(25分): 概念理解正确性
形象性(25分): 类比和例子的生动性
完整性(25分): 核心要点的覆盖度
原创性(25分): 自己语言的表达程度

通过标准: ≥80分 → 绿色
未通过: <80分 → 保持红色
```

**输出**：
```json
{
  "total_score": 85,
  "breakdown": {
    "accuracy": 22,
    "imagery": 21,
    "completeness": 23,
    "originality": 19
  },
  "pass": true,
  "feedback": "很好！你的类比很生动...",
  "color_action": "change_to_green"
}
```

---

### 5️⃣ 无纸化回顾检验Agent ⭐核心系统⭐
**文件**：`Review-Verification-Agent.mdc`
**职责**：验证真实理解，将似懂非懂和不理解彻底解决

**核心算法**：

#### 算法1：红色/紫色节点检索
```python
def extract_colored_nodes(canvas_data):
    red_nodes = []  # color: "1"
    purple_nodes = []  # color: "3"
    yellow_nodes = []  # color: "6"

    for node in canvas_data["nodes"]:
        if node.get("color") == "1":
            red_nodes.append({
                "id": node["id"],
                "content": get_node_content(node),
                "related_yellow": find_related_yellow(node["id"])
            })
        # ... 类似处理紫色和黄色节点

    return red_nodes, purple_nodes, yellow_nodes
```

#### 算法2：深层次问题生成
```yaml
针对红色节点（不理解的）:
  - 突破型问题：换角度理解
  - 基础型问题：降低门槛

针对紫色节点（似懂非懂的）:
  - 检验型问题：揭示真实理解
  - 应用型问题：测试迁移能力

关联分析:
  - 多个节点结合生成综合性问题
  - 标注问题来源
```

#### 算法3：检验白板生成
```yaml
输出文件:
  - 文件名: [原白板名]-检验白板-[日期].canvas
  - 位置: 与原白板同一文件夹

内容结构:
  - 说明节点（蓝色）
  - 检验问题节点（红色）
  - 个人理解节点（黄色）
  - 连接边
```

---

## 技术规格

### 📁 文件结构

```
C:\Users\ROG\托福\笔记库\
├── 离散数学\
│   ├── 离散数学.canvas（主分析白板）
│   ├── 离散数学-检验白板-20250113.canvas
│   ├── 逆否命题-口语化解释-20250113143025.md
│   ├── 命题基础-澄清路径-20250113150132.md
│   └── ...
├── 托福听力\
│   ├── 托福听力.canvas
│   └── ...
```

### 🎨 Canvas JSON结构

```json
{
  "nodes": [
    {
      "id": "唯一ID",
      "type": "text" | "file" | "group",
      "text": "文本内容",
      "file": "./相对路径.md",
      "x": 100,
      "y": 200,
      "width": 400,
      "height": 300,
      "color": "1" | "2" | "3" | "6"
    }
  ],
  "edges": [
    {
      "id": "edge-ID",
      "fromNode": "源节点ID",
      "toNode": "目标节点ID",
      "fromSide": "right",
      "toSide": "left",
      "label": "连接标签"
    }
  ]
}
```

### 🎨 颜色系统

| Canvas Color | 颜色 | 含义 | 触发条件 |
|--------------|------|------|----------|
| `"1"` | 🔴 红色 | 不理解/未通过 | 材料难懂、子问题未通过 |
| `"2"` | 🟢 绿色 | 完全理解/已通过 | 子问题≥80分、所有子问题全通过 |
| `"3"` | 🟣 紫色 | 似懂非懂/待检验 | 补充解释已阅读但未验证 |
| `"6"` | 🟡 黄色 | 个人理解输出区 | 费曼学习法的输出环节 |

### 📝 笔记命名规范

```
格式: [主题]-[方法]-[时间戳].md

示例:
- 逆否命题-口语化解释-20250113143025.md
- 切平面计算-例题教学-20250113152030.md
- 矩阵乘法-记忆锚点-20250113160045.md
```

---

## 实施路线图

### 阶段1：基础设施（Week 1-2）
- [x] 系统架构设计
- [x] Agent角色定义
- [ ] 主控Agent开发
- [ ] Canvas操作函数库
- [ ] 测试环境搭建

### 阶段2：核心Agent开发（Week 3-5）
- [ ] 基础拆解Agent
- [ ] 深度拆解Agent
- [ ] 口语化解释Agent
- [ ] 评分Agent
- [ ] 基础功能测试

### 阶段3：补充解释系列（Week 6-7）
- [ ] 澄清路径Agent
- [ ] 对比表Agent
- [ ] 记忆锚点Agent
- [ ] 四层次解答Agent
- [ ] 例题教学Agent
- [ ] 问题拆解Agent

### 阶段4：核心系统开发（Week 8-10）
- [ ] 无纸化回顾检验Agent
- [ ] 高级算法优化
- [ ] 多Agent协作测试
- [ ] 性能优化

### 阶段5：集成与优化（Week 11-12）
- [ ] 系统集成测试
- [ ] 用户体验优化
- [ ] 错误处理完善
- [ ] 文档完善

### 阶段6：试运行与迭代（Week 13+）
- [ ] 真实学习场景测试
- [ ] 收集用户反馈
- [ ] 迭代优化
- [ ] 功能扩展

---

## 文件清单

### 已创建文件 ✅

1. **主控Agent提示词**
   - `C:\Users\ROG\托福\.cursor\rules\Canvas-Orchestrator.mdc`
   - 完整的主控Agent设计文档

2. **基础拆解Agent提示词**
   - `C:\Users\ROG\托福\.cursor\rules\Basic-Decomposition-Agent.mdc`
   - 基础拆解策略和实施细节

3. **项目简报**
   - `C:\Users\ROG\托福\笔记库\Canvas学习系统-完整项目简报.md`
   - 本文档

### 待创建文件 📝

#### Agent提示词系列
4. `Deep-Decomposition-Agent.mdc` - 深度拆解Agent
5. `Problem-Decomposition-Agent.mdc` - 问题拆解Agent
6. `Oral-Explanation-Agent.mdc` - 口语化解释Agent
7. `Clarification-Path-Agent.mdc` - 澄清路径Agent
8. `Comparison-Table-Agent.mdc` - 对比表Agent
9. `Memory-Anchor-Agent.mdc` - 记忆锚点Agent
10. `Four-Level-Agent.mdc` - 四层次解答Agent
11. `Example-Teaching-Agent.mdc` - 例题教学Agent
12. `Scoring-Agent.mdc` - 评分Agent
13. `Review-Verification-Agent.mdc` - 无纸化回顾检验Agent

#### 技术文档
14. `Canvas-Operations-Library.md` - Canvas操作函数库
15. `Agent-Communication-Protocol.md` - Agent通信协议
16. `Error-Handling-Guide.md` - 错误处理指南
17. `Performance-Optimization-Guide.md` - 性能优化指南

#### 用户文档
18. `User-Manual.md` - 用户使用手册
19. `Quick-Start-Guide.md` - 快速开始指南
20. `FAQ.md` - 常见问题解答

---

## 核心优势

### ✨ 相比传统学习方法

| 维度 | 传统方法 | Canvas学习系统 |
|------|---------|----------------|
| 理解验证 | 主观判断 | 强制输出+AI评分 |
| 知识追踪 | 笔记散乱 | 颜色标记+Canvas可视化 |
| 薄弱点识别 | 考试后才知道 | 实时反馈，红色标记 |
| 复习系统 | 重复阅读 | 无纸化回顾，针对性检验 |
| 学习效率 | 被动输入为主 | 输出驱动，费曼学习法 |

### ✨ 相比其他AI学习工具

1. **深度集成Obsidian**：利用Canvas的可视化和笔记系统
2. **系统化学习流程**：三大系统形成完整闭环
3. **颜色驱动状态管理**：一目了然的学习进度
4. **多Agent协作**：专项Agent专注核心任务，保证质量
5. **费曼学习法实现**：强制输出，验证真实理解

---

## 潜在挑战与解决方案

### 挑战1：AI响应速度
**问题**：多Agent调用可能导致速度慢
**解决方案**：
- 缓存机制减少重复解析
- 流式输出降低等待感
- 异步处理非关键任务

### 挑战2：Canvas文件复杂度
**问题**：节点过多时JSON文件很大
**解决方案**：
- 分层白板策略
- 定期归档完成的内容
- 只加载必要部分

### 挑战3：用户习惯养成
**问题**：需要用户坚持填写个人理解
**解决方案**：
- 引导性设计（黄色节点提示）
- 进度可视化（绿色节点激励）
- 回顾系统提醒

### 挑战4：评分准确性
**问题**：AI评分可能不够准确
**解决方案**：
- 4维度细化评分
- 提供详细反馈
- 用户可申诉重新评分

---

## 下一步行动

### 立即行动（本周）
1. ✅ 完成主控Agent提示词
2. ✅ 完成基础拆解Agent提示词
3. 📝 创建口语化解释Agent提示词
4. 📝 创建评分Agent提示词
5. 📝 创建Canvas操作函数库文档

### 短期目标（本月）
1. 完成所有Agent提示词
2. 开发Canvas操作原型
3. 进行小规模测试
4. 收集反馈并优化

### 中期目标（3个月）
1. 完整系统上线
2. 真实场景验证
3. 性能优化
4. 用户文档完善

---

## 附录

### A. 关键概念术语表

| 术语 | 解释 |
|------|------|
| Canvas | Obsidian的白板插件，支持可视化笔记组织 |
| 费曼学习法 | 通过教授/输出来验证理解的学习方法 |
| Sub-Agent | 专项执行特定任务的AI助手 |
| 主控Agent | 协调所有Sub-Agent的中央控制器 |
| 颜色标记 | 用颜色表示学习状态的可视化方法 |
| 无纸化回顾 | 不看笔记，通过问题检验理解的方法 |

### B. 参考资料

- **SQOS系统**：`C:\Users\ROG\托福\SQOS-完整提示词.md`
- **SUQ主系统**：`C:\Users\ROG\托福\.cursor\rules\suq.mdc`
- **SUQ-C配套系统**：`C:\Users\ROG\托福\.cursor\rules\suq-c.mdc`
- **颜色参考样例**：`C:\Users\ROG\托福\笔记库\颜色标记参考样例.canvas`

### C. 联系方式

**项目负责人**：Mary 📊 (Business Analyst Agent)
**技术顾问**：待分配
**用户代表**：项目发起人

---

## 🎉 结语

Canvas学习系统是一个雄心勃勃的项目，旨在将费曼学习法系统化、AI化、可视化。通过三大系统的协同工作，我们相信能够帮助用户：

- ✅ 更快理解难懂的概念
- ✅ 更准确识别自己的薄弱点
- ✅ 更高效巩固所学知识
- ✅ 更科学追踪学习进度

**让我们开始这段激动人心的旅程吧！** 🚀

---

**文档版本**：v1.0
**最后更新**：2025-01-13
**状态**：设计阶段 → 准备移交PM创建PRD
