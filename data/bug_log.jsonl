{"bug_id":"BUG-8CFCFB15","timestamp":"2025-12-14T10:31:57.236383Z","endpoint":"/api/v1/canvas/ñ¬ªÂ‡Â‡GÂ©v;Ã¢/nodes/Âó»¯§\\","error_type":"ValidationError","error_message":"1 validation error for NodeRead\nid\n  String should match pattern '^[a-f0-9]+$' [type=string_pattern_mismatch, input_value='\\x90\\U000fbbe7\\\\', input_type=str]\n    For further information visit https://errors.pydantic.dev/2.12/v/string_pattern_mismatch","request_params":{"path":"/api/v1/canvas/ñ¬ªÂ‡Â‡GÂ©v;Ã¢/nodes/Âó»¯§\\","method":"PUT","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 163, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\canvas.py\", line 114, in update_node\n    return NodeRead(\n           ^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\pydantic\\main.py\", line 250, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\npydantic_core._pydantic_core.ValidationError: 1 validation error for NodeRead\nid\n  String should match pattern '^[a-f0-9]+$' [type=string_pattern_mismatch, input_value='\\x90\\U000fbbe7\\\\', input_type=str]\n    For further information visit https://errors.pydantic.dev/2.12/v/string_pattern_mismatch\n","user_action":null}
{"bug_id":"BUG-BEE015BC","timestamp":"2025-12-14T10:32:13.250510Z","endpoint":"/api/v1/agents/decompose/basic","error_type":"CanvasNotFoundException","error_message":"Canvas 'Canvas not found: ' not found","request_params":{"path":"/api/v1/agents/decompose/basic","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 163, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 138, in decompose_basic\n    enriched = await context_service.enrich_with_adjacent_nodes(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\context_enrichment_service.py\", line 171, in enrich_with_adjacent_nodes\n    canvas_data = await self._canvas_service.read_canvas(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 94, in read_canvas\n    data = await asyncio.to_thread(_read_file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\asyncio\\threads.py\", line 25, in to_thread\n    return await loop.run_in_executor(None, func_call)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 90, in _read_file\n    raise CanvasNotFoundException(f\"Canvas not found: {canvas_name}\")\napp.core.exceptions.CanvasNotFoundException: Canvas 'Canvas not found: ' not found\n","user_action":null}
{"bug_id":"BUG-CFDF47DD","timestamp":"2025-12-14T10:32:13.433562Z","endpoint":"/api/v1/agents/decompose/basic","error_type":"CanvasNotFoundException","error_message":"Canvas 'Canvas not found: ' not found","request_params":{"path":"/api/v1/agents/decompose/basic","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 163, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 138, in decompose_basic\n    enriched = await context_service.enrich_with_adjacent_nodes(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\context_enrichment_service.py\", line 171, in enrich_with_adjacent_nodes\n    canvas_data = await self._canvas_service.read_canvas(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 94, in read_canvas\n    data = await asyncio.to_thread(_read_file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\asyncio\\threads.py\", line 25, in to_thread\n    return await loop.run_in_executor(None, func_call)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 90, in _read_file\n    raise CanvasNotFoundException(f\"Canvas not found: {canvas_name}\")\napp.core.exceptions.CanvasNotFoundException: Canvas 'Canvas not found: ' not found\n","user_action":null}
{"bug_id":"BUG-F766DF2E","timestamp":"2025-12-14T10:32:14.274508Z","endpoint":"/api/v1/agents/decompose/basic","error_type":"ValidationError","error_message":"Path traversal detected in canvas name: 0/0","request_params":{"path":"/api/v1/agents/decompose/basic","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 163, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 138, in decompose_basic\n    enriched = await context_service.enrich_with_adjacent_nodes(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\context_enrichment_service.py\", line 171, in enrich_with_adjacent_nodes\n    canvas_data = await self._canvas_service.read_canvas(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 85, in read_canvas\n    canvas_path = self._get_canvas_path(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 66, in _get_canvas_path\n    self._validate_canvas_name(canvas_name)\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 62, in _validate_canvas_name\n    raise ValidationError(f\"Path traversal detected in canvas name: {canvas_name}\")\napp.core.exceptions.ValidationError: Path traversal detected in canvas name: 0/0\n","user_action":null}
{"bug_id":"BUG-168F2E0A","timestamp":"2025-12-14T10:32:14.617292Z","endpoint":"/api/v1/agents/decompose/basic","error_type":"CanvasNotFoundException","error_message":"Canvas 'Canvas not found: Â©ò¨„¡Â†\u0014ó¯„·ò±£\u0007Ã‰Â\u0006C' not found","request_params":{"path":"/api/v1/agents/decompose/basic","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 163, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 138, in decompose_basic\n    enriched = await context_service.enrich_with_adjacent_nodes(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\context_enrichment_service.py\", line 171, in enrich_with_adjacent_nodes\n    canvas_data = await self._canvas_service.read_canvas(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 94, in read_canvas\n    data = await asyncio.to_thread(_read_file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\asyncio\\threads.py\", line 25, in to_thread\n    return await loop.run_in_executor(None, func_call)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 90, in _read_file\n    raise CanvasNotFoundException(f\"Canvas not found: {canvas_name}\")\napp.core.exceptions.CanvasNotFoundException: Canvas 'Canvas not found: Â©ò¨„¡Â†\u0014ó¯„·ò±£\u0007Ã‰Â\u0006C' not found\n","user_action":null}
{"bug_id":"BUG-0F6FC243","timestamp":"2025-12-14T10:32:14.917439Z","endpoint":"/api/v1/agents/decompose/basic","error_type":"CanvasNotFoundException","error_message":"Canvas 'Canvas not found: ' not found","request_params":{"path":"/api/v1/agents/decompose/basic","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 163, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 138, in decompose_basic\n    enriched = await context_service.enrich_with_adjacent_nodes(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\context_enrichment_service.py\", line 171, in enrich_with_adjacent_nodes\n    canvas_data = await self._canvas_service.read_canvas(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 94, in read_canvas\n    data = await asyncio.to_thread(_read_file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\asyncio\\threads.py\", line 25, in to_thread\n    return await loop.run_in_executor(None, func_call)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 90, in _read_file\n    raise CanvasNotFoundException(f\"Canvas not found: {canvas_name}\")\napp.core.exceptions.CanvasNotFoundException: Canvas 'Canvas not found: ' not found\n","user_action":null}
{"bug_id":"BUG-725CF9C4","timestamp":"2025-12-14T10:32:15.067359Z","endpoint":"/api/v1/agents/decompose/basic","error_type":"CanvasNotFoundException","error_message":"Canvas 'Canvas not found: ğ“£ğ“±ğ“® ğ“ºğ“¾ğ“²ğ“¬ğ“´ ğ“«ğ“»ğ“¸ğ”€ğ“· ğ“¯ğ“¸ğ” ğ“³ğ“¾ğ“¶ğ“¹ğ“¼ ğ“¸ğ“¿ğ“®ğ“» ğ“½ğ“±ğ“® ğ“µğ“ªğ”ƒğ”‚ ğ“­ğ“¸ğ“°' not found","request_params":{"path":"/api/v1/agents/decompose/basic","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 163, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 138, in decompose_basic\n    enriched = await context_service.enrich_with_adjacent_nodes(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\context_enrichment_service.py\", line 171, in enrich_with_adjacent_nodes\n    canvas_data = await self._canvas_service.read_canvas(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 94, in read_canvas\n    data = await asyncio.to_thread(_read_file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\asyncio\\threads.py\", line 25, in to_thread\n    return await loop.run_in_executor(None, func_call)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 90, in _read_file\n    raise CanvasNotFoundException(f\"Canvas not found: {canvas_name}\")\napp.core.exceptions.CanvasNotFoundException: Canvas 'Canvas not found: ğ“£ğ“±ğ“® ğ“ºğ“¾ğ“²ğ“¬ğ“´ ğ“«ğ“»ğ“¸ğ”€ğ“· ğ“¯ğ“¸ğ” ğ“³ğ“¾ğ“¶ğ“¹ğ“¼ ğ“¸ğ“¿ğ“®ğ“» ğ“½ğ“±ğ“® ğ“µğ“ªğ”ƒğ”‚ ğ“­ğ“¸ğ“°' not found\n","user_action":null}
{"bug_id":"BUG-FC4FE4D2","timestamp":"2025-12-14T10:32:15.270479Z","endpoint":"/api/v1/agents/decompose/basic","error_type":"CanvasNotFoundException","error_message":"Canvas 'Canvas not found: Ã•Â¯\u0019ò†šŸÃ¿ÃŸG|ğ¤¦£Â†ó€Œ™!óƒŸ´Â”Â•lgğ˜„Âƒ*' not found","request_params":{"path":"/api/v1/agents/decompose/basic","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 163, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 138, in decompose_basic\n    enriched = await context_service.enrich_with_adjacent_nodes(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\context_enrichment_service.py\", line 171, in enrich_with_adjacent_nodes\n    canvas_data = await self._canvas_service.read_canvas(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 94, in read_canvas\n    data = await asyncio.to_thread(_read_file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\asyncio\\threads.py\", line 25, in to_thread\n    return await loop.run_in_executor(None, func_call)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 90, in _read_file\n    raise CanvasNotFoundException(f\"Canvas not found: {canvas_name}\")\napp.core.exceptions.CanvasNotFoundException: Canvas 'Canvas not found: Ã•Â¯\u0019ò†šŸÃ¿ÃŸG|ğ¤¦£Â†ó€Œ™!óƒŸ´Â”Â•lgğ˜„Âƒ*' not found\n","user_action":null}
{"bug_id":"BUG-0A68A559","timestamp":"2025-12-14T10:32:18.976971Z","endpoint":"/api/v1/agents/decompose/deep","error_type":"CanvasNotFoundException","error_message":"Canvas 'Canvas not found: ' not found","request_params":{"path":"/api/v1/agents/decompose/deep","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 163, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 198, in decompose_deep\n    enriched = await context_service.enrich_with_adjacent_nodes(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\context_enrichment_service.py\", line 171, in enrich_with_adjacent_nodes\n    canvas_data = await self._canvas_service.read_canvas(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 94, in read_canvas\n    data = await asyncio.to_thread(_read_file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\asyncio\\threads.py\", line 25, in to_thread\n    return await loop.run_in_executor(None, func_call)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 90, in _read_file\n    raise CanvasNotFoundException(f\"Canvas not found: {canvas_name}\")\napp.core.exceptions.CanvasNotFoundException: Canvas 'Canvas not found: ' not found\n","user_action":null}
{"bug_id":"BUG-56F078F6","timestamp":"2025-12-14T10:32:19.146356Z","endpoint":"/api/v1/agents/decompose/deep","error_type":"CanvasNotFoundException","error_message":"Canvas 'Canvas not found: ' not found","request_params":{"path":"/api/v1/agents/decompose/deep","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 163, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 198, in decompose_deep\n    enriched = await context_service.enrich_with_adjacent_nodes(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\context_enrichment_service.py\", line 171, in enrich_with_adjacent_nodes\n    canvas_data = await self._canvas_service.read_canvas(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 94, in read_canvas\n    data = await asyncio.to_thread(_read_file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\asyncio\\threads.py\", line 25, in to_thread\n    return await loop.run_in_executor(None, func_call)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 90, in _read_file\n    raise CanvasNotFoundException(f\"Canvas not found: {canvas_name}\")\napp.core.exceptions.CanvasNotFoundException: Canvas 'Canvas not found: ' not found\n","user_action":null}
{"bug_id":"BUG-60DA1346","timestamp":"2025-12-14T10:32:19.618672Z","endpoint":"/api/v1/agents/decompose/deep","error_type":"ValidationError","error_message":"Path traversal detected in canvas name: 2Â­Â•\u0000Ã³n","request_params":{"path":"/api/v1/agents/decompose/deep","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 163, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 198, in decompose_deep\n    enriched = await context_service.enrich_with_adjacent_nodes(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\context_enrichment_service.py\", line 171, in enrich_with_adjacent_nodes\n    canvas_data = await self._canvas_service.read_canvas(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 85, in read_canvas\n    canvas_path = self._get_canvas_path(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 66, in _get_canvas_path\n    self._validate_canvas_name(canvas_name)\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 62, in _validate_canvas_name\n    raise ValidationError(f\"Path traversal detected in canvas name: {canvas_name}\")\napp.core.exceptions.ValidationError: Path traversal detected in canvas name: 2Â­Â•\u0000Ã³n\n","user_action":null}
{"bug_id":"BUG-45DF1A04","timestamp":"2025-12-14T10:32:19.891365Z","endpoint":"/api/v1/agents/decompose/deep","error_type":"CanvasNotFoundException","error_message":"Canvas 'Canvas not found: =Â¼Â†Ã¼Â•OÂ®' not found","request_params":{"path":"/api/v1/agents/decompose/deep","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 163, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 198, in decompose_deep\n    enriched = await context_service.enrich_with_adjacent_nodes(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\context_enrichment_service.py\", line 171, in enrich_with_adjacent_nodes\n    canvas_data = await self._canvas_service.read_canvas(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 94, in read_canvas\n    data = await asyncio.to_thread(_read_file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\asyncio\\threads.py\", line 25, in to_thread\n    return await loop.run_in_executor(None, func_call)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 90, in _read_file\n    raise CanvasNotFoundException(f\"Canvas not found: {canvas_name}\")\napp.core.exceptions.CanvasNotFoundException: Canvas 'Canvas not found: =Â¼Â†Ã¼Â•OÂ®' not found\n","user_action":null}
{"bug_id":"BUG-E74C542E","timestamp":"2025-12-14T10:32:20.103531Z","endpoint":"/api/v1/agents/decompose/deep","error_type":"CanvasNotFoundException","error_message":"Canvas 'Canvas not found: Ã¸}' not found","request_params":{"path":"/api/v1/agents/decompose/deep","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 163, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 198, in decompose_deep\n    enriched = await context_service.enrich_with_adjacent_nodes(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\context_enrichment_service.py\", line 171, in enrich_with_adjacent_nodes\n    canvas_data = await self._canvas_service.read_canvas(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 94, in read_canvas\n    data = await asyncio.to_thread(_read_file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\asyncio\\threads.py\", line 25, in to_thread\n    return await loop.run_in_executor(None, func_call)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 90, in _read_file\n    raise CanvasNotFoundException(f\"Canvas not found: {canvas_name}\")\napp.core.exceptions.CanvasNotFoundException: Canvas 'Canvas not found: Ã¸}' not found\n","user_action":null}
{"bug_id":"BUG-25F6363A","timestamp":"2025-12-14T10:32:20.307507Z","endpoint":"/api/v1/agents/decompose/deep","error_type":"CanvasNotFoundException","error_message":"Canvas 'Canvas not found: Â—Â½&kÃCÃ—2ò·ª=Â­' not found","request_params":{"path":"/api/v1/agents/decompose/deep","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 163, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 198, in decompose_deep\n    enriched = await context_service.enrich_with_adjacent_nodes(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\context_enrichment_service.py\", line 171, in enrich_with_adjacent_nodes\n    canvas_data = await self._canvas_service.read_canvas(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 94, in read_canvas\n    data = await asyncio.to_thread(_read_file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\asyncio\\threads.py\", line 25, in to_thread\n    return await loop.run_in_executor(None, func_call)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 90, in _read_file\n    raise CanvasNotFoundException(f\"Canvas not found: {canvas_name}\")\napp.core.exceptions.CanvasNotFoundException: Canvas 'Canvas not found: Â—Â½&kÃCÃ—2ò·ª=Â­' not found\n","user_action":null}
{"bug_id":"BUG-A02EFEB3","timestamp":"2025-12-14T10:32:20.464956Z","endpoint":"/api/v1/agents/decompose/deep","error_type":"CanvasNotFoundException","error_message":"Canvas 'Canvas not found: òŒ’¡Ã€@ò¿„=Ã' not found","request_params":{"path":"/api/v1/agents/decompose/deep","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 163, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 198, in decompose_deep\n    enriched = await context_service.enrich_with_adjacent_nodes(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\context_enrichment_service.py\", line 171, in enrich_with_adjacent_nodes\n    canvas_data = await self._canvas_service.read_canvas(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 94, in read_canvas\n    data = await asyncio.to_thread(_read_file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\asyncio\\threads.py\", line 25, in to_thread\n    return await loop.run_in_executor(None, func_call)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 90, in _read_file\n    raise CanvasNotFoundException(f\"Canvas not found: {canvas_name}\")\napp.core.exceptions.CanvasNotFoundException: Canvas 'Canvas not found: òŒ’¡Ã€@ò¿„=Ã' not found\n","user_action":null}
{"bug_id":"BUG-C13A3397","timestamp":"2025-12-14T10:32:20.797209Z","endpoint":"/api/v1/agents/decompose/deep","error_type":"CanvasNotFoundException","error_message":"Canvas 'Canvas not found: v#\u0006ò…™_Â¯\u0011Ã Ãƒ' not found","request_params":{"path":"/api/v1/agents/decompose/deep","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 163, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 198, in decompose_deep\n    enriched = await context_service.enrich_with_adjacent_nodes(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\context_enrichment_service.py\", line 171, in enrich_with_adjacent_nodes\n    canvas_data = await self._canvas_service.read_canvas(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 94, in read_canvas\n    data = await asyncio.to_thread(_read_file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\asyncio\\threads.py\", line 25, in to_thread\n    return await loop.run_in_executor(None, func_call)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 90, in _read_file\n    raise CanvasNotFoundException(f\"Canvas not found: {canvas_name}\")\napp.core.exceptions.CanvasNotFoundException: Canvas 'Canvas not found: v#\u0006ò…™_Â¯\u0011Ã Ãƒ' not found\n","user_action":null}
{"bug_id":"BUG-60B60C47","timestamp":"2025-12-14T10:32:29.895305Z","endpoint":"/api/v1/agents/explain/oral","error_type":"CanvasNotFoundException","error_message":"Canvas 'Canvas not found: ' not found","request_params":{"path":"/api/v1/agents/explain/oral","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 163, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 367, in explain_oral\n    return await _call_explanation(request, \"oral\", agent_service, context_service)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 306, in _call_explanation\n    enriched = await context_service.enrich_with_adjacent_nodes(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\context_enrichment_service.py\", line 171, in enrich_with_adjacent_nodes\n    canvas_data = await self._canvas_service.read_canvas(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 94, in read_canvas\n    data = await asyncio.to_thread(_read_file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\asyncio\\threads.py\", line 25, in to_thread\n    return await loop.run_in_executor(None, func_call)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 90, in _read_file\n    raise CanvasNotFoundException(f\"Canvas not found: {canvas_name}\")\napp.core.exceptions.CanvasNotFoundException: Canvas 'Canvas not found: ' not found\n","user_action":null}
{"bug_id":"BUG-390E9E5C","timestamp":"2025-12-14T10:32:30.068423Z","endpoint":"/api/v1/agents/explain/oral","error_type":"CanvasNotFoundException","error_message":"Canvas 'Canvas not found: ' not found","request_params":{"path":"/api/v1/agents/explain/oral","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 163, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 367, in explain_oral\n    return await _call_explanation(request, \"oral\", agent_service, context_service)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 306, in _call_explanation\n    enriched = await context_service.enrich_with_adjacent_nodes(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\context_enrichment_service.py\", line 171, in enrich_with_adjacent_nodes\n    canvas_data = await self._canvas_service.read_canvas(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 94, in read_canvas\n    data = await asyncio.to_thread(_read_file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\asyncio\\threads.py\", line 25, in to_thread\n    return await loop.run_in_executor(None, func_call)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 90, in _read_file\n    raise CanvasNotFoundException(f\"Canvas not found: {canvas_name}\")\napp.core.exceptions.CanvasNotFoundException: Canvas 'Canvas not found: ' not found\n","user_action":null}
{"bug_id":"BUG-7658F52A","timestamp":"2025-12-14T10:32:30.620226Z","endpoint":"/api/v1/agents/explain/oral","error_type":"CanvasNotFoundException","error_message":"Canvas 'Canvas not found: `Â¼ó˜†˜Ãñ¡·¤Ã¶Â¦\u000eÂ²dAfó”¯…' not found","request_params":{"path":"/api/v1/agents/explain/oral","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 163, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 367, in explain_oral\n    return await _call_explanation(request, \"oral\", agent_service, context_service)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 306, in _call_explanation\n    enriched = await context_service.enrich_with_adjacent_nodes(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\context_enrichment_service.py\", line 171, in enrich_with_adjacent_nodes\n    canvas_data = await self._canvas_service.read_canvas(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 94, in read_canvas\n    data = await asyncio.to_thread(_read_file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\asyncio\\threads.py\", line 25, in to_thread\n    return await loop.run_in_executor(None, func_call)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 90, in _read_file\n    raise CanvasNotFoundException(f\"Canvas not found: {canvas_name}\")\napp.core.exceptions.CanvasNotFoundException: Canvas 'Canvas not found: `Â¼ó˜†˜Ãñ¡·¤Ã¶Â¦\u000eÂ²dAfó”¯…' not found\n","user_action":null}
{"bug_id":"BUG-83019728","timestamp":"2025-12-14T10:32:31.031444Z","endpoint":"/api/v1/agents/explain/oral","error_type":"CanvasNotFoundException","error_message":"Canvas 'Canvas not found: :óº£…1ÂÂRÃ“\u0010ò“ˆ‚\u0001Â”Ãƒ' not found","request_params":{"path":"/api/v1/agents/explain/oral","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 163, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 367, in explain_oral\n    return await _call_explanation(request, \"oral\", agent_service, context_service)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 306, in _call_explanation\n    enriched = await context_service.enrich_with_adjacent_nodes(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\context_enrichment_service.py\", line 171, in enrich_with_adjacent_nodes\n    canvas_data = await self._canvas_service.read_canvas(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 94, in read_canvas\n    data = await asyncio.to_thread(_read_file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\asyncio\\threads.py\", line 25, in to_thread\n    return await loop.run_in_executor(None, func_call)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 90, in _read_file\n    raise CanvasNotFoundException(f\"Canvas not found: {canvas_name}\")\napp.core.exceptions.CanvasNotFoundException: Canvas 'Canvas not found: :óº£…1ÂÂRÃ“\u0010ò“ˆ‚\u0001Â”Ãƒ' not found\n","user_action":null}
{"bug_id":"BUG-344EF4EA","timestamp":"2025-12-14T10:32:31.447239Z","endpoint":"/api/v1/agents/explain/oral","error_type":"CanvasNotFoundException","error_message":"Canvas 'Canvas not found: ñ²š·Ã±Â©Ãšò™’\u0015ğ ¼­]ğ¤©š' not found","request_params":{"path":"/api/v1/agents/explain/oral","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 163, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 367, in explain_oral\n    return await _call_explanation(request, \"oral\", agent_service, context_service)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 306, in _call_explanation\n    enriched = await context_service.enrich_with_adjacent_nodes(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\context_enrichment_service.py\", line 171, in enrich_with_adjacent_nodes\n    canvas_data = await self._canvas_service.read_canvas(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 94, in read_canvas\n    data = await asyncio.to_thread(_read_file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\asyncio\\threads.py\", line 25, in to_thread\n    return await loop.run_in_executor(None, func_call)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 90, in _read_file\n    raise CanvasNotFoundException(f\"Canvas not found: {canvas_name}\")\napp.core.exceptions.CanvasNotFoundException: Canvas 'Canvas not found: ñ²š·Ã±Â©Ãšò™’\u0015ğ ¼­]ğ¤©š' not found\n","user_action":null}
{"bug_id":"BUG-F8215AF9","timestamp":"2025-12-14T10:32:31.733245Z","endpoint":"/api/v1/agents/explain/oral","error_type":"CanvasNotFoundException","error_message":"Canvas 'Canvas not found: ğ¨™™ò¹½¥' not found","request_params":{"path":"/api/v1/agents/explain/oral","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 163, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 367, in explain_oral\n    return await _call_explanation(request, \"oral\", agent_service, context_service)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 306, in _call_explanation\n    enriched = await context_service.enrich_with_adjacent_nodes(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\context_enrichment_service.py\", line 171, in enrich_with_adjacent_nodes\n    canvas_data = await self._canvas_service.read_canvas(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 94, in read_canvas\n    data = await asyncio.to_thread(_read_file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\asyncio\\threads.py\", line 25, in to_thread\n    return await loop.run_in_executor(None, func_call)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 90, in _read_file\n    raise CanvasNotFoundException(f\"Canvas not found: {canvas_name}\")\napp.core.exceptions.CanvasNotFoundException: Canvas 'Canvas not found: ğ¨™™ò¹½¥' not found\n","user_action":null}
{"bug_id":"BUG-34308766","timestamp":"2025-12-14T10:32:31.932659Z","endpoint":"/api/v1/agents/explain/oral","error_type":"CanvasNotFoundException","error_message":"Canvas 'Canvas not found: ÂŒÃš' not found","request_params":{"path":"/api/v1/agents/explain/oral","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 163, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 367, in explain_oral\n    return await _call_explanation(request, \"oral\", agent_service, context_service)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 306, in _call_explanation\n    enriched = await context_service.enrich_with_adjacent_nodes(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\context_enrichment_service.py\", line 171, in enrich_with_adjacent_nodes\n    canvas_data = await self._canvas_service.read_canvas(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 94, in read_canvas\n    data = await asyncio.to_thread(_read_file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\asyncio\\threads.py\", line 25, in to_thread\n    return await loop.run_in_executor(None, func_call)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 90, in _read_file\n    raise CanvasNotFoundException(f\"Canvas not found: {canvas_name}\")\napp.core.exceptions.CanvasNotFoundException: Canvas 'Canvas not found: ÂŒÃš' not found\n","user_action":null}
{"bug_id":"BUG-3940E309","timestamp":"2025-12-14T10:32:36.178762Z","endpoint":"/api/v1/agents/explain/clarification","error_type":"CanvasNotFoundException","error_message":"Canvas 'Canvas not found: ' not found","request_params":{"path":"/api/v1/agents/explain/clarification","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 163, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 391, in explain_clarification\n    return await _call_explanation(request, \"clarification\", agent_service, context_service)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 306, in _call_explanation\n    enriched = await context_service.enrich_with_adjacent_nodes(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\context_enrichment_service.py\", line 171, in enrich_with_adjacent_nodes\n    canvas_data = await self._canvas_service.read_canvas(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 94, in read_canvas\n    data = await asyncio.to_thread(_read_file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\asyncio\\threads.py\", line 25, in to_thread\n    return await loop.run_in_executor(None, func_call)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 90, in _read_file\n    raise CanvasNotFoundException(f\"Canvas not found: {canvas_name}\")\napp.core.exceptions.CanvasNotFoundException: Canvas 'Canvas not found: ' not found\n","user_action":null}
{"bug_id":"BUG-1B9678D9","timestamp":"2025-12-14T10:32:36.370520Z","endpoint":"/api/v1/agents/explain/clarification","error_type":"CanvasNotFoundException","error_message":"Canvas 'Canvas not found: ' not found","request_params":{"path":"/api/v1/agents/explain/clarification","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 163, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 391, in explain_clarification\n    return await _call_explanation(request, \"clarification\", agent_service, context_service)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 306, in _call_explanation\n    enriched = await context_service.enrich_with_adjacent_nodes(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\context_enrichment_service.py\", line 171, in enrich_with_adjacent_nodes\n    canvas_data = await self._canvas_service.read_canvas(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 94, in read_canvas\n    data = await asyncio.to_thread(_read_file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\asyncio\\threads.py\", line 25, in to_thread\n    return await loop.run_in_executor(None, func_call)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 90, in _read_file\n    raise CanvasNotFoundException(f\"Canvas not found: {canvas_name}\")\napp.core.exceptions.CanvasNotFoundException: Canvas 'Canvas not found: ' not found\n","user_action":null}
{"bug_id":"BUG-38913C7F","timestamp":"2025-12-14T10:32:37.797590Z","endpoint":"/api/v1/agents/explain/clarification","error_type":"CanvasNotFoundException","error_message":"Canvas 'Canvas not found: gÂ…Ã”ò‘·‡KÂŒÃªÂ' not found","request_params":{"path":"/api/v1/agents/explain/clarification","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 163, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 391, in explain_clarification\n    return await _call_explanation(request, \"clarification\", agent_service, context_service)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 306, in _call_explanation\n    enriched = await context_service.enrich_with_adjacent_nodes(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\context_enrichment_service.py\", line 171, in enrich_with_adjacent_nodes\n    canvas_data = await self._canvas_service.read_canvas(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 94, in read_canvas\n    data = await asyncio.to_thread(_read_file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\asyncio\\threads.py\", line 25, in to_thread\n    return await loop.run_in_executor(None, func_call)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 90, in _read_file\n    raise CanvasNotFoundException(f\"Canvas not found: {canvas_name}\")\napp.core.exceptions.CanvasNotFoundException: Canvas 'Canvas not found: gÂ…Ã”ò‘·‡KÂŒÃªÂ' not found\n","user_action":null}
{"bug_id":"BUG-A379CF2D","timestamp":"2025-12-14T10:32:38.211503Z","endpoint":"/api/v1/agents/explain/clarification","error_type":"CanvasNotFoundException","error_message":"Canvas 'Canvas not found: Â¢' not found","request_params":{"path":"/api/v1/agents/explain/clarification","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 163, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 391, in explain_clarification\n    return await _call_explanation(request, \"clarification\", agent_service, context_service)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 306, in _call_explanation\n    enriched = await context_service.enrich_with_adjacent_nodes(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\context_enrichment_service.py\", line 171, in enrich_with_adjacent_nodes\n    canvas_data = await self._canvas_service.read_canvas(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 94, in read_canvas\n    data = await asyncio.to_thread(_read_file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\asyncio\\threads.py\", line 25, in to_thread\n    return await loop.run_in_executor(None, func_call)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 90, in _read_file\n    raise CanvasNotFoundException(f\"Canvas not found: {canvas_name}\")\napp.core.exceptions.CanvasNotFoundException: Canvas 'Canvas not found: Â¢' not found\n","user_action":null}
{"bug_id":"BUG-D1E4183F","timestamp":"2025-12-14T10:32:43.086583Z","endpoint":"/api/v1/agents/explain/comparison","error_type":"CanvasNotFoundException","error_message":"Canvas 'Canvas not found: ' not found","request_params":{"path":"/api/v1/agents/explain/comparison","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 163, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 415, in explain_comparison\n    return await _call_explanation(request, \"comparison\", agent_service, context_service)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 306, in _call_explanation\n    enriched = await context_service.enrich_with_adjacent_nodes(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\context_enrichment_service.py\", line 171, in enrich_with_adjacent_nodes\n    canvas_data = await self._canvas_service.read_canvas(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 94, in read_canvas\n    data = await asyncio.to_thread(_read_file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\asyncio\\threads.py\", line 25, in to_thread\n    return await loop.run_in_executor(None, func_call)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 90, in _read_file\n    raise CanvasNotFoundException(f\"Canvas not found: {canvas_name}\")\napp.core.exceptions.CanvasNotFoundException: Canvas 'Canvas not found: ' not found\n","user_action":null}
{"bug_id":"BUG-8B4CBBAA","timestamp":"2025-12-14T10:32:43.287103Z","endpoint":"/api/v1/agents/explain/comparison","error_type":"CanvasNotFoundException","error_message":"Canvas 'Canvas not found: ' not found","request_params":{"path":"/api/v1/agents/explain/comparison","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 163, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 415, in explain_comparison\n    return await _call_explanation(request, \"comparison\", agent_service, context_service)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 306, in _call_explanation\n    enriched = await context_service.enrich_with_adjacent_nodes(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\context_enrichment_service.py\", line 171, in enrich_with_adjacent_nodes\n    canvas_data = await self._canvas_service.read_canvas(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 94, in read_canvas\n    data = await asyncio.to_thread(_read_file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\asyncio\\threads.py\", line 25, in to_thread\n    return await loop.run_in_executor(None, func_call)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 90, in _read_file\n    raise CanvasNotFoundException(f\"Canvas not found: {canvas_name}\")\napp.core.exceptions.CanvasNotFoundException: Canvas 'Canvas not found: ' not found\n","user_action":null}
{"bug_id":"BUG-4675BE20","timestamp":"2025-12-14T10:32:43.911796Z","endpoint":"/api/v1/agents/explain/comparison","error_type":"CanvasNotFoundException","error_message":"Canvas 'Canvas not found: Ã™Ãš' not found","request_params":{"path":"/api/v1/agents/explain/comparison","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 163, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 415, in explain_comparison\n    return await _call_explanation(request, \"comparison\", agent_service, context_service)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 306, in _call_explanation\n    enriched = await context_service.enrich_with_adjacent_nodes(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\context_enrichment_service.py\", line 171, in enrich_with_adjacent_nodes\n    canvas_data = await self._canvas_service.read_canvas(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 94, in read_canvas\n    data = await asyncio.to_thread(_read_file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\asyncio\\threads.py\", line 25, in to_thread\n    return await loop.run_in_executor(None, func_call)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 90, in _read_file\n    raise CanvasNotFoundException(f\"Canvas not found: {canvas_name}\")\napp.core.exceptions.CanvasNotFoundException: Canvas 'Canvas not found: Ã™Ãš' not found\n","user_action":null}
{"bug_id":"BUG-D2368580","timestamp":"2025-12-14T10:32:44.107777Z","endpoint":"/api/v1/agents/explain/comparison","error_type":"CanvasNotFoundException","error_message":"Canvas 'Canvas not found: Q}' not found","request_params":{"path":"/api/v1/agents/explain/comparison","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 163, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 415, in explain_comparison\n    return await _call_explanation(request, \"comparison\", agent_service, context_service)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 306, in _call_explanation\n    enriched = await context_service.enrich_with_adjacent_nodes(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\context_enrichment_service.py\", line 171, in enrich_with_adjacent_nodes\n    canvas_data = await self._canvas_service.read_canvas(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 94, in read_canvas\n    data = await asyncio.to_thread(_read_file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\asyncio\\threads.py\", line 25, in to_thread\n    return await loop.run_in_executor(None, func_call)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 90, in _read_file\n    raise CanvasNotFoundException(f\"Canvas not found: {canvas_name}\")\napp.core.exceptions.CanvasNotFoundException: Canvas 'Canvas not found: Q}' not found\n","user_action":null}
{"bug_id":"BUG-51FAC8D8","timestamp":"2025-12-14T10:32:44.720533Z","endpoint":"/api/v1/agents/explain/comparison","error_type":"CanvasNotFoundException","error_message":"Canvas 'Canvas not found: ' not found","request_params":{"path":"/api/v1/agents/explain/comparison","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 163, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 415, in explain_comparison\n    return await _call_explanation(request, \"comparison\", agent_service, context_service)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 306, in _call_explanation\n    enriched = await context_service.enrich_with_adjacent_nodes(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\context_enrichment_service.py\", line 171, in enrich_with_adjacent_nodes\n    canvas_data = await self._canvas_service.read_canvas(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 94, in read_canvas\n    data = await asyncio.to_thread(_read_file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\asyncio\\threads.py\", line 25, in to_thread\n    return await loop.run_in_executor(None, func_call)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 90, in _read_file\n    raise CanvasNotFoundException(f\"Canvas not found: {canvas_name}\")\napp.core.exceptions.CanvasNotFoundException: Canvas 'Canvas not found: ' not found\n","user_action":null}
{"bug_id":"BUG-3D7ACE34","timestamp":"2025-12-14T10:32:44.927185Z","endpoint":"/api/v1/agents/explain/comparison","error_type":"CanvasNotFoundException","error_message":"Canvas 'Canvas not found: ñ™“´\rğ¯ŠŸñªŸ–Â…' not found","request_params":{"path":"/api/v1/agents/explain/comparison","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 163, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 415, in explain_comparison\n    return await _call_explanation(request, \"comparison\", agent_service, context_service)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 306, in _call_explanation\n    enriched = await context_service.enrich_with_adjacent_nodes(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\context_enrichment_service.py\", line 171, in enrich_with_adjacent_nodes\n    canvas_data = await self._canvas_service.read_canvas(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 94, in read_canvas\n    data = await asyncio.to_thread(_read_file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\asyncio\\threads.py\", line 25, in to_thread\n    return await loop.run_in_executor(None, func_call)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 90, in _read_file\n    raise CanvasNotFoundException(f\"Canvas not found: {canvas_name}\")\napp.core.exceptions.CanvasNotFoundException: Canvas 'Canvas not found: ñ™“´\rğ¯ŠŸñªŸ–Â…' not found\n","user_action":null}
{"bug_id":"BUG-7F6AE593","timestamp":"2025-12-14T10:32:49.664977Z","endpoint":"/api/v1/agents/explain/memory","error_type":"CanvasNotFoundException","error_message":"Canvas 'Canvas not found: ' not found","request_params":{"path":"/api/v1/agents/explain/memory","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 163, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 439, in explain_memory\n    return await _call_explanation(request, \"memory\", agent_service, context_service)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 306, in _call_explanation\n    enriched = await context_service.enrich_with_adjacent_nodes(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\context_enrichment_service.py\", line 171, in enrich_with_adjacent_nodes\n    canvas_data = await self._canvas_service.read_canvas(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 94, in read_canvas\n    data = await asyncio.to_thread(_read_file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\asyncio\\threads.py\", line 25, in to_thread\n    return await loop.run_in_executor(None, func_call)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 90, in _read_file\n    raise CanvasNotFoundException(f\"Canvas not found: {canvas_name}\")\napp.core.exceptions.CanvasNotFoundException: Canvas 'Canvas not found: ' not found\n","user_action":null}
{"bug_id":"BUG-867F2848","timestamp":"2025-12-14T10:32:49.871485Z","endpoint":"/api/v1/agents/explain/memory","error_type":"CanvasNotFoundException","error_message":"Canvas 'Canvas not found: ' not found","request_params":{"path":"/api/v1/agents/explain/memory","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 163, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 439, in explain_memory\n    return await _call_explanation(request, \"memory\", agent_service, context_service)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 306, in _call_explanation\n    enriched = await context_service.enrich_with_adjacent_nodes(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\context_enrichment_service.py\", line 171, in enrich_with_adjacent_nodes\n    canvas_data = await self._canvas_service.read_canvas(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 94, in read_canvas\n    data = await asyncio.to_thread(_read_file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\asyncio\\threads.py\", line 25, in to_thread\n    return await loop.run_in_executor(None, func_call)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 90, in _read_file\n    raise CanvasNotFoundException(f\"Canvas not found: {canvas_name}\")\napp.core.exceptions.CanvasNotFoundException: Canvas 'Canvas not found: ' not found\n","user_action":null}
{"bug_id":"BUG-DE81CD25","timestamp":"2025-12-14T10:32:50.677685Z","endpoint":"/api/v1/agents/explain/memory","error_type":"CanvasNotFoundException","error_message":"Canvas 'Canvas not found: ñ¬‡º&8Â±' not found","request_params":{"path":"/api/v1/agents/explain/memory","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 163, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 439, in explain_memory\n    return await _call_explanation(request, \"memory\", agent_service, context_service)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 306, in _call_explanation\n    enriched = await context_service.enrich_with_adjacent_nodes(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\context_enrichment_service.py\", line 171, in enrich_with_adjacent_nodes\n    canvas_data = await self._canvas_service.read_canvas(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 94, in read_canvas\n    data = await asyncio.to_thread(_read_file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\asyncio\\threads.py\", line 25, in to_thread\n    return await loop.run_in_executor(None, func_call)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 90, in _read_file\n    raise CanvasNotFoundException(f\"Canvas not found: {canvas_name}\")\napp.core.exceptions.CanvasNotFoundException: Canvas 'Canvas not found: ñ¬‡º&8Â±' not found\n","user_action":null}
{"bug_id":"BUG-962FEC30","timestamp":"2025-12-14T10:32:50.948122Z","endpoint":"/api/v1/agents/explain/memory","error_type":"CanvasNotFoundException","error_message":"Canvas 'Canvas not found: weighted' not found","request_params":{"path":"/api/v1/agents/explain/memory","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 163, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 439, in explain_memory\n    return await _call_explanation(request, \"memory\", agent_service, context_service)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 306, in _call_explanation\n    enriched = await context_service.enrich_with_adjacent_nodes(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\context_enrichment_service.py\", line 171, in enrich_with_adjacent_nodes\n    canvas_data = await self._canvas_service.read_canvas(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 94, in read_canvas\n    data = await asyncio.to_thread(_read_file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\asyncio\\threads.py\", line 25, in to_thread\n    return await loop.run_in_executor(None, func_call)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 90, in _read_file\n    raise CanvasNotFoundException(f\"Canvas not found: {canvas_name}\")\napp.core.exceptions.CanvasNotFoundException: Canvas 'Canvas not found: weighted' not found\n","user_action":null}
{"bug_id":"BUG-7E469150","timestamp":"2025-12-14T10:32:51.136226Z","endpoint":"/api/v1/agents/explain/memory","error_type":"CanvasNotFoundException","error_message":"Canvas 'Canvas not found: tÂ¾Â‚Ã¼' not found","request_params":{"path":"/api/v1/agents/explain/memory","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 163, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 439, in explain_memory\n    return await _call_explanation(request, \"memory\", agent_service, context_service)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 306, in _call_explanation\n    enriched = await context_service.enrich_with_adjacent_nodes(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\context_enrichment_service.py\", line 171, in enrich_with_adjacent_nodes\n    canvas_data = await self._canvas_service.read_canvas(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 94, in read_canvas\n    data = await asyncio.to_thread(_read_file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\asyncio\\threads.py\", line 25, in to_thread\n    return await loop.run_in_executor(None, func_call)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 90, in _read_file\n    raise CanvasNotFoundException(f\"Canvas not found: {canvas_name}\")\napp.core.exceptions.CanvasNotFoundException: Canvas 'Canvas not found: tÂ¾Â‚Ã¼' not found\n","user_action":null}
{"bug_id":"BUG-8F3BEA7B","timestamp":"2025-12-14T10:32:51.871181Z","endpoint":"/api/v1/agents/explain/memory","error_type":"CanvasNotFoundException","error_message":"Canvas 'Canvas not found: à¤ªà¤¨à¥à¤¹ à¤ªà¤¨à¥à¤¹ à¤¤à¥à¤° à¤°à¥à¤š à¤•à¥ƒà¤•à¥ƒ à¤¡à¥à¤¡ à¤¨à¥à¤¹à¥ƒà¥‡ Ø¥Ù„Ø§ Ø¨Ø³Ù… Ø§Ù„Ù„Ù‡' not found","request_params":{"path":"/api/v1/agents/explain/memory","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 163, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 439, in explain_memory\n    return await _call_explanation(request, \"memory\", agent_service, context_service)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 306, in _call_explanation\n    enriched = await context_service.enrich_with_adjacent_nodes(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\context_enrichment_service.py\", line 171, in enrich_with_adjacent_nodes\n    canvas_data = await self._canvas_service.read_canvas(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 94, in read_canvas\n    data = await asyncio.to_thread(_read_file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\asyncio\\threads.py\", line 25, in to_thread\n    return await loop.run_in_executor(None, func_call)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 90, in _read_file\n    raise CanvasNotFoundException(f\"Canvas not found: {canvas_name}\")\napp.core.exceptions.CanvasNotFoundException: Canvas 'Canvas not found: à¤ªà¤¨à¥à¤¹ à¤ªà¤¨à¥à¤¹ à¤¤à¥à¤° à¤°à¥à¤š à¤•à¥ƒà¤•à¥ƒ à¤¡à¥à¤¡ à¤¨à¥à¤¹à¥ƒà¥‡ Ø¥Ù„Ø§ Ø¨Ø³Ù… Ø§Ù„Ù„Ù‡' not found\n","user_action":null}
{"bug_id":"BUG-5C89CFC6","timestamp":"2025-12-14T10:32:56.636537Z","endpoint":"/api/v1/agents/explain/four-level","error_type":"CanvasNotFoundException","error_message":"Canvas 'Canvas not found: ' not found","request_params":{"path":"/api/v1/agents/explain/four-level","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 163, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 463, in explain_four_level\n    return await _call_explanation(request, \"four-level\", agent_service, context_service)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 306, in _call_explanation\n    enriched = await context_service.enrich_with_adjacent_nodes(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\context_enrichment_service.py\", line 171, in enrich_with_adjacent_nodes\n    canvas_data = await self._canvas_service.read_canvas(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 94, in read_canvas\n    data = await asyncio.to_thread(_read_file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\asyncio\\threads.py\", line 25, in to_thread\n    return await loop.run_in_executor(None, func_call)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 90, in _read_file\n    raise CanvasNotFoundException(f\"Canvas not found: {canvas_name}\")\napp.core.exceptions.CanvasNotFoundException: Canvas 'Canvas not found: ' not found\n","user_action":null}
{"bug_id":"BUG-A62DBF4F","timestamp":"2025-12-14T10:32:56.823131Z","endpoint":"/api/v1/agents/explain/four-level","error_type":"CanvasNotFoundException","error_message":"Canvas 'Canvas not found: ' not found","request_params":{"path":"/api/v1/agents/explain/four-level","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 163, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 463, in explain_four_level\n    return await _call_explanation(request, \"four-level\", agent_service, context_service)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 306, in _call_explanation\n    enriched = await context_service.enrich_with_adjacent_nodes(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\context_enrichment_service.py\", line 171, in enrich_with_adjacent_nodes\n    canvas_data = await self._canvas_service.read_canvas(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 94, in read_canvas\n    data = await asyncio.to_thread(_read_file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\asyncio\\threads.py\", line 25, in to_thread\n    return await loop.run_in_executor(None, func_call)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 90, in _read_file\n    raise CanvasNotFoundException(f\"Canvas not found: {canvas_name}\")\napp.core.exceptions.CanvasNotFoundException: Canvas 'Canvas not found: ' not found\n","user_action":null}
{"bug_id":"BUG-E2BE02D1","timestamp":"2025-12-14T10:32:57.628874Z","endpoint":"/api/v1/agents/explain/four-level","error_type":"CanvasNotFoundException","error_message":"Canvas 'Canvas not found: mmÂµğ¹®IÂ°L' not found","request_params":{"path":"/api/v1/agents/explain/four-level","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 163, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 463, in explain_four_level\n    return await _call_explanation(request, \"four-level\", agent_service, context_service)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 306, in _call_explanation\n    enriched = await context_service.enrich_with_adjacent_nodes(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\context_enrichment_service.py\", line 171, in enrich_with_adjacent_nodes\n    canvas_data = await self._canvas_service.read_canvas(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 94, in read_canvas\n    data = await asyncio.to_thread(_read_file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\asyncio\\threads.py\", line 25, in to_thread\n    return await loop.run_in_executor(None, func_call)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 90, in _read_file\n    raise CanvasNotFoundException(f\"Canvas not found: {canvas_name}\")\napp.core.exceptions.CanvasNotFoundException: Canvas 'Canvas not found: mmÂµğ¹®IÂ°L' not found\n","user_action":null}
{"bug_id":"BUG-02E7331A","timestamp":"2025-12-14T10:32:58.034747Z","endpoint":"/api/v1/agents/explain/four-level","error_type":"CanvasNotFoundException","error_message":"Canvas 'Canvas not found: Ã·ÂŠ\nÂ´,;ğº˜‡Ã‘ôˆ¡ˆ' not found","request_params":{"path":"/api/v1/agents/explain/four-level","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 163, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 463, in explain_four_level\n    return await _call_explanation(request, \"four-level\", agent_service, context_service)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 306, in _call_explanation\n    enriched = await context_service.enrich_with_adjacent_nodes(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\context_enrichment_service.py\", line 171, in enrich_with_adjacent_nodes\n    canvas_data = await self._canvas_service.read_canvas(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 94, in read_canvas\n    data = await asyncio.to_thread(_read_file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\asyncio\\threads.py\", line 25, in to_thread\n    return await loop.run_in_executor(None, func_call)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 90, in _read_file\n    raise CanvasNotFoundException(f\"Canvas not found: {canvas_name}\")\napp.core.exceptions.CanvasNotFoundException: Canvas 'Canvas not found: Ã·ÂŠ\nÂ´,;ğº˜‡Ã‘ôˆ¡ˆ' not found\n","user_action":null}
{"bug_id":"BUG-0412F9C1","timestamp":"2025-12-14T10:32:58.411059Z","endpoint":"/api/v1/agents/explain/four-level","error_type":"CanvasNotFoundException","error_message":"Canvas 'Canvas not found: Â‚Â»óŸˆ€Ãµ' not found","request_params":{"path":"/api/v1/agents/explain/four-level","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 163, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 463, in explain_four_level\n    return await _call_explanation(request, \"four-level\", agent_service, context_service)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 306, in _call_explanation\n    enriched = await context_service.enrich_with_adjacent_nodes(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\context_enrichment_service.py\", line 171, in enrich_with_adjacent_nodes\n    canvas_data = await self._canvas_service.read_canvas(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 94, in read_canvas\n    data = await asyncio.to_thread(_read_file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\asyncio\\threads.py\", line 25, in to_thread\n    return await loop.run_in_executor(None, func_call)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 90, in _read_file\n    raise CanvasNotFoundException(f\"Canvas not found: {canvas_name}\")\napp.core.exceptions.CanvasNotFoundException: Canvas 'Canvas not found: Â‚Â»óŸˆ€Ãµ' not found\n","user_action":null}
{"bug_id":"BUG-3BB3222A","timestamp":"2025-12-14T10:33:03.333397Z","endpoint":"/api/v1/agents/explain/example","error_type":"CanvasNotFoundException","error_message":"Canvas 'Canvas not found: ' not found","request_params":{"path":"/api/v1/agents/explain/example","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 163, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 487, in explain_example\n    return await _call_explanation(request, \"example\", agent_service, context_service)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 306, in _call_explanation\n    enriched = await context_service.enrich_with_adjacent_nodes(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\context_enrichment_service.py\", line 171, in enrich_with_adjacent_nodes\n    canvas_data = await self._canvas_service.read_canvas(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 94, in read_canvas\n    data = await asyncio.to_thread(_read_file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\asyncio\\threads.py\", line 25, in to_thread\n    return await loop.run_in_executor(None, func_call)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 90, in _read_file\n    raise CanvasNotFoundException(f\"Canvas not found: {canvas_name}\")\napp.core.exceptions.CanvasNotFoundException: Canvas 'Canvas not found: ' not found\n","user_action":null}
{"bug_id":"BUG-D3418800","timestamp":"2025-12-14T10:33:03.554478Z","endpoint":"/api/v1/agents/explain/example","error_type":"CanvasNotFoundException","error_message":"Canvas 'Canvas not found: ' not found","request_params":{"path":"/api/v1/agents/explain/example","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 163, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 487, in explain_example\n    return await _call_explanation(request, \"example\", agent_service, context_service)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 306, in _call_explanation\n    enriched = await context_service.enrich_with_adjacent_nodes(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\context_enrichment_service.py\", line 171, in enrich_with_adjacent_nodes\n    canvas_data = await self._canvas_service.read_canvas(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 94, in read_canvas\n    data = await asyncio.to_thread(_read_file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\asyncio\\threads.py\", line 25, in to_thread\n    return await loop.run_in_executor(None, func_call)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 90, in _read_file\n    raise CanvasNotFoundException(f\"Canvas not found: {canvas_name}\")\napp.core.exceptions.CanvasNotFoundException: Canvas 'Canvas not found: ' not found\n","user_action":null}
{"bug_id":"BUG-B576939D","timestamp":"2025-12-14T10:33:04.471314Z","endpoint":"/api/v1/agents/explain/example","error_type":"CanvasNotFoundException","error_message":"Canvas 'Canvas not found: Ã§ZÃ™!ñ†Ÿ‚' not found","request_params":{"path":"/api/v1/agents/explain/example","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 163, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 487, in explain_example\n    return await _call_explanation(request, \"example\", agent_service, context_service)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 306, in _call_explanation\n    enriched = await context_service.enrich_with_adjacent_nodes(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\context_enrichment_service.py\", line 171, in enrich_with_adjacent_nodes\n    canvas_data = await self._canvas_service.read_canvas(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 94, in read_canvas\n    data = await asyncio.to_thread(_read_file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\asyncio\\threads.py\", line 25, in to_thread\n    return await loop.run_in_executor(None, func_call)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 90, in _read_file\n    raise CanvasNotFoundException(f\"Canvas not found: {canvas_name}\")\napp.core.exceptions.CanvasNotFoundException: Canvas 'Canvas not found: Ã§ZÃ™!ñ†Ÿ‚' not found\n","user_action":null}
{"bug_id":"BUG-60362F0D","timestamp":"2025-12-14T10:33:04.936894Z","endpoint":"/api/v1/agents/explain/example","error_type":"CanvasNotFoundException","error_message":"Canvas 'Canvas not found: Ã¯Ã‹Ã\u000fñ†©òœÂ¶Ãñ›ªˆÂ½ÂŠ*ñ¦¢¬csğ«¬·Ã™Ã¯Â¸Ã–Â™ÃšÃ†Â‘Â¯Ã¼ó–²Ÿó·²„óŠ»­ñšÂšWÂ´Â¼Â' not found","request_params":{"path":"/api/v1/agents/explain/example","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 163, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 487, in explain_example\n    return await _call_explanation(request, \"example\", agent_service, context_service)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 306, in _call_explanation\n    enriched = await context_service.enrich_with_adjacent_nodes(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\context_enrichment_service.py\", line 171, in enrich_with_adjacent_nodes\n    canvas_data = await self._canvas_service.read_canvas(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 94, in read_canvas\n    data = await asyncio.to_thread(_read_file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\asyncio\\threads.py\", line 25, in to_thread\n    return await loop.run_in_executor(None, func_call)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 90, in _read_file\n    raise CanvasNotFoundException(f\"Canvas not found: {canvas_name}\")\napp.core.exceptions.CanvasNotFoundException: Canvas 'Canvas not found: Ã¯Ã‹Ã\u000fñ†©òœÂ¶Ãñ›ªˆÂ½ÂŠ*ñ¦¢¬csğ«¬·Ã™Ã¯Â¸Ã–Â™ÃšÃ†Â‘Â¯Ã¼ó–²Ÿó·²„óŠ»­ñšÂšWÂ´Â¼Â' not found\n","user_action":null}
{"bug_id":"BUG-47EA6E98","timestamp":"2025-12-14T10:33:05.411926Z","endpoint":"/api/v1/agents/explain/example","error_type":"CanvasNotFoundException","error_message":"Canvas 'Canvas not found: ' not found","request_params":{"path":"/api/v1/agents/explain/example","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 163, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 487, in explain_example\n    return await _call_explanation(request, \"example\", agent_service, context_service)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 306, in _call_explanation\n    enriched = await context_service.enrich_with_adjacent_nodes(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\context_enrichment_service.py\", line 171, in enrich_with_adjacent_nodes\n    canvas_data = await self._canvas_service.read_canvas(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 94, in read_canvas\n    data = await asyncio.to_thread(_read_file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\asyncio\\threads.py\", line 25, in to_thread\n    return await loop.run_in_executor(None, func_call)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 90, in _read_file\n    raise CanvasNotFoundException(f\"Canvas not found: {canvas_name}\")\napp.core.exceptions.CanvasNotFoundException: Canvas 'Canvas not found: ' not found\n","user_action":null}
{"bug_id":"BUG-2C2A1001","timestamp":"2025-12-14T10:33:36.569460Z","endpoint":"/api/v1/review/progress/multi/0","error_type":"TypeError","error_message":"get_review_service() missing 2 required positional arguments: 'canvas_service' and 'task_manager'","request_params":{"path":"/api/v1/review/progress/multi/0","method":"GET","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 111, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 104, in receive_nowait\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 163, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\review.py\", line 511, in get_multi_review_progress\n    review_service = get_review_service()\n                     ^^^^^^^^^^^^^^^^^^^^\nTypeError: get_review_service() missing 2 required positional arguments: 'canvas_service' and 'task_manager'\n","user_action":null}
{"bug_id":"BUG-3FB6C6A6","timestamp":"2026-02-06T08:25:49.287522Z","endpoint":"/api/v1/agents/decompose/basic","error_type":"CanvasNotFoundException","error_message":"Canvas 'Canvas not found: test' not found","request_params":{"path":"/api/v1/agents/decompose/basic","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 273, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 727, in decompose_basic\n    enriched = await context_service.enrich_with_adjacent_nodes(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\context_enrichment_service.py\", line 679, in enrich_with_adjacent_nodes\n    canvas_data = await self._canvas_service.read_canvas(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 449, in read_canvas\n    data = await asyncio.to_thread(_read_file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\asyncio\\threads.py\", line 25, in to_thread\n    return await loop.run_in_executor(None, func_call)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 445, in _read_file\n    raise CanvasNotFoundException(f\"Canvas not found: {canvas_name}\")\napp.core.exceptions.CanvasNotFoundException: Canvas 'Canvas not found: test' not found\n","user_action":null}
{"bug_id":"BUG-92E9BE90","timestamp":"2026-02-06T08:46:08.082782Z","endpoint":"/api/v1/canvas/ÂˆDÂ³Ã’\u001eÃ²ò¦“/nodes/aaÂ„Ãò©¾","error_type":"ValidationError","error_message":"1 validation error for NodeRead\nid\n  String should match pattern '^[a-zA-Z0-9][-a-zA-Z0-9]*$' [type=string_pattern_mismatch, input_value='aa\\x84Ã\\U0009da7e', input_type=str]\n    For further information visit https://errors.pydantic.dev/2.12/v/string_pattern_mismatch","request_params":{"path":"/api/v1/canvas/ÂˆDÂ³Ã’\u001eÃ²ò¦“/nodes/aaÂ„Ãò©¾","method":"PUT","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 273, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\canvas.py\", line 136, in update_node\n    return NodeRead(\n           ^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\pydantic\\main.py\", line 250, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\npydantic_core._pydantic_core.ValidationError: 1 validation error for NodeRead\nid\n  String should match pattern '^[a-zA-Z0-9][-a-zA-Z0-9]*$' [type=string_pattern_mismatch, input_value='aa\\x84Ã\\U0009da7e', input_type=str]\n    For further information visit https://errors.pydantic.dev/2.12/v/string_pattern_mismatch\n","user_action":null}
{"bug_id":"BUG-FDFB6E15","timestamp":"2026-02-06T08:46:21.996254Z","endpoint":"/api/v1/canvas/0/sync-edges","error_type":"CanvasNotFoundException","error_message":"Canvas 'Canvas not found: 0' not found","request_params":{"path":"/api/v1/canvas/0/sync-edges","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 273, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\canvas.py\", line 241, in sync_edges\n    summary = await canvas_service.sync_all_edges_to_neo4j(canvas_name)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 357, in sync_all_edges_to_neo4j\n    canvas_data = await self.read_canvas(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 449, in read_canvas\n    data = await asyncio.to_thread(_read_file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\asyncio\\threads.py\", line 25, in to_thread\n    return await loop.run_in_executor(None, func_call)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 445, in _read_file\n    raise CanvasNotFoundException(f\"Canvas not found: {canvas_name}\")\napp.core.exceptions.CanvasNotFoundException: Canvas 'Canvas not found: 0' not found\n","user_action":null}
{"bug_id":"BUG-BC405FA3","timestamp":"2026-02-06T08:46:29.513410Z","endpoint":"/api/v1/agents/decompose/basic","error_type":"CanvasNotFoundException","error_message":"Canvas 'Canvas not found: ' not found","request_params":{"path":"/api/v1/agents/decompose/basic","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 273, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 727, in decompose_basic\n    enriched = await context_service.enrich_with_adjacent_nodes(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\context_enrichment_service.py\", line 679, in enrich_with_adjacent_nodes\n    canvas_data = await self._canvas_service.read_canvas(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 449, in read_canvas\n    data = await asyncio.to_thread(_read_file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\asyncio\\threads.py\", line 25, in to_thread\n    return await loop.run_in_executor(None, func_call)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 445, in _read_file\n    raise CanvasNotFoundException(f\"Canvas not found: {canvas_name}\")\napp.core.exceptions.CanvasNotFoundException: Canvas 'Canvas not found: ' not found\n","user_action":null}
{"bug_id":"BUG-61F7BDAE","timestamp":"2026-02-06T08:46:33.704342Z","endpoint":"/api/v1/agents/decompose/deep","error_type":"CanvasNotFoundException","error_message":"Canvas 'Canvas not found: ' not found","request_params":{"path":"/api/v1/agents/decompose/deep","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 273, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 830, in decompose_deep\n    enriched = await context_service.enrich_with_adjacent_nodes(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\context_enrichment_service.py\", line 679, in enrich_with_adjacent_nodes\n    canvas_data = await self._canvas_service.read_canvas(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 449, in read_canvas\n    data = await asyncio.to_thread(_read_file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\asyncio\\threads.py\", line 25, in to_thread\n    return await loop.run_in_executor(None, func_call)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 445, in _read_file\n    raise CanvasNotFoundException(f\"Canvas not found: {canvas_name}\")\napp.core.exceptions.CanvasNotFoundException: Canvas 'Canvas not found: ' not found\n","user_action":null}
{"bug_id":"BUG-C9CCBF23","timestamp":"2026-02-06T08:47:37.314886Z","endpoint":"/api/v1/agents/verification/question","error_type":"CanvasNotFoundException","error_message":"Canvas 'Canvas not found: ' not found","request_params":{"path":"/api/v1/agents/verification/question","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 273, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 1485, in generate_verification_questions\n    enriched = await context_service.enrich_with_adjacent_nodes(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\context_enrichment_service.py\", line 679, in enrich_with_adjacent_nodes\n    canvas_data = await self._canvas_service.read_canvas(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 449, in read_canvas\n    data = await asyncio.to_thread(_read_file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\asyncio\\threads.py\", line 25, in to_thread\n    return await loop.run_in_executor(None, func_call)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 445, in _read_file\n    raise CanvasNotFoundException(f\"Canvas not found: {canvas_name}\")\napp.core.exceptions.CanvasNotFoundException: Canvas 'Canvas not found: ' not found\n","user_action":null}
{"bug_id":"BUG-569FF23E","timestamp":"2026-02-06T08:47:42.359161Z","endpoint":"/api/v1/agents/decompose/question","error_type":"CanvasNotFoundException","error_message":"Canvas 'Canvas not found: ' not found","request_params":{"path":"/api/v1/agents/decompose/question","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 273, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\agents.py\", line 1594, in decompose_question\n    enriched = await context_service.enrich_with_adjacent_nodes(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\context_enrichment_service.py\", line 679, in enrich_with_adjacent_nodes\n    canvas_data = await self._canvas_service.read_canvas(canvas_name)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 449, in read_canvas\n    data = await asyncio.to_thread(_read_file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\asyncio\\threads.py\", line 25, in to_thread\n    return await loop.run_in_executor(None, func_call)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\services\\canvas_service.py\", line 445, in _read_file\n    raise CanvasNotFoundException(f\"Canvas not found: {canvas_name}\")\napp.core.exceptions.CanvasNotFoundException: Canvas 'Canvas not found: ' not found\n","user_action":null}
{"bug_id":"BUG-D04FFFA2","timestamp":"2026-02-06T08:48:06.112021Z","endpoint":"/api/v1/review/history","error_type":"TypeError","error_message":"get_review_service() missing 2 required positional arguments: 'canvas_service' and 'task_manager'","request_params":{"path":"/api/v1/review/history","method":"GET","query_params":{"days":"7","concept_name":"","limit":"5","show_all":"true"}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 111, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 104, in receive_nowait\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 273, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\review.py\", line 285, in get_review_history\n    review_service = get_review_service()\n                     ^^^^^^^^^^^^^^^^^^^^\nTypeError: get_review_service() missing 2 required positional arguments: 'canvas_service' and 'task_manager'\n","user_action":null}
{"bug_id":"BUG-F05F010A","timestamp":"2026-02-06T08:48:32.924031Z","endpoint":"/api/v1/review/record","error_type":"TypeError","error_message":"get_review_service() missing 2 required positional arguments: 'canvas_service' and 'task_manager'","request_params":{"path":"/api/v1/review/record","method":"PUT","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 273, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\review.py\", line 613, in record_review_result\n    review_service = get_review_service()\n                     ^^^^^^^^^^^^^^^^^^^^\nTypeError: get_review_service() missing 2 required positional arguments: 'canvas_service' and 'task_manager'\n","user_action":null}
{"bug_id":"BUG-C1C97C28","timestamp":"2026-02-06T08:48:34.470233Z","endpoint":"/api/v1/review/progress/multi/0","error_type":"TypeError","error_message":"get_review_service() missing 2 required positional arguments: 'canvas_service' and 'task_manager'","request_params":{"path":"/api/v1/review/progress/multi/0","method":"GET","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 111, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 104, in receive_nowait\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 273, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\review.py\", line 698, in get_multi_review_progress\n    review_service = get_review_service()\n                     ^^^^^^^^^^^^^^^^^^^^\nTypeError: get_review_service() missing 2 required positional arguments: 'canvas_service' and 'task_manager'\n","user_action":null}
{"bug_id":"BUG-35E13B96","timestamp":"2026-02-06T08:50:05.467671Z","endpoint":"/api/v1/rollback/snapshot","error_type":"PermissionError","error_message":"[Errno 13] Permission denied: '.'","request_params":{"path":"/api/v1/rollback/snapshot","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 273, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\rollback.py\", line 350, in create_snapshot\n    snapshot = await manager.create_snapshot(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\src\\rollback\\snapshot_manager.py\", line 143, in create_snapshot\n    canvas_data = await self._read_canvas(canvas_path)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\src\\rollback\\snapshot_manager.py\", line 113, in _read_canvas\n    data = path.read_bytes()\n           ^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\pathlib.py\", line 1019, in read_bytes\n    with self.open(mode='rb') as f:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\pathlib.py\", line 1013, in open\n    return io.open(self, mode, buffering, encoding, errors, newline)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nPermissionError: [Errno 13] Permission denied: '.'\n","user_action":null}
{"bug_id":"BUG-095ED612","timestamp":"2026-02-06T08:50:05.817180Z","endpoint":"/api/v1/rollback/snapshot","error_type":"PermissionError","error_message":"[Errno 13] Permission denied: '.'","request_params":{"path":"/api/v1/rollback/snapshot","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 273, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\rollback.py\", line 350, in create_snapshot\n    snapshot = await manager.create_snapshot(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\src\\rollback\\snapshot_manager.py\", line 143, in create_snapshot\n    canvas_data = await self._read_canvas(canvas_path)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\src\\rollback\\snapshot_manager.py\", line 113, in _read_canvas\n    data = path.read_bytes()\n           ^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\pathlib.py\", line 1019, in read_bytes\n    with self.open(mode='rb') as f:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\pathlib.py\", line 1013, in open\n    return io.open(self, mode, buffering, encoding, errors, newline)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nPermissionError: [Errno 13] Permission denied: '.'\n","user_action":null}
{"bug_id":"BUG-E55F043D","timestamp":"2026-02-06T08:50:06.150044Z","endpoint":"/api/v1/rollback/snapshot","error_type":"PermissionError","error_message":"[Errno 13] Permission denied: '.'","request_params":{"path":"/api/v1/rollback/snapshot","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 273, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\rollback.py\", line 350, in create_snapshot\n    snapshot = await manager.create_snapshot(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\src\\rollback\\snapshot_manager.py\", line 143, in create_snapshot\n    canvas_data = await self._read_canvas(canvas_path)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\src\\rollback\\snapshot_manager.py\", line 113, in _read_canvas\n    data = path.read_bytes()\n           ^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\pathlib.py\", line 1019, in read_bytes\n    with self.open(mode='rb') as f:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\pathlib.py\", line 1013, in open\n    return io.open(self, mode, buffering, encoding, errors, newline)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nPermissionError: [Errno 13] Permission denied: '.'\n","user_action":null}
{"bug_id":"BUG-286AAA51","timestamp":"2026-02-06T08:50:06.504492Z","endpoint":"/api/v1/rollback/snapshot","error_type":"PermissionError","error_message":"[Errno 13] Permission denied: '.'","request_params":{"path":"/api/v1/rollback/snapshot","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 273, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\rollback.py\", line 350, in create_snapshot\n    snapshot = await manager.create_snapshot(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\src\\rollback\\snapshot_manager.py\", line 143, in create_snapshot\n    canvas_data = await self._read_canvas(canvas_path)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\src\\rollback\\snapshot_manager.py\", line 113, in _read_canvas\n    data = path.read_bytes()\n           ^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\pathlib.py\", line 1019, in read_bytes\n    with self.open(mode='rb') as f:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\pathlib.py\", line 1013, in open\n    return io.open(self, mode, buffering, encoding, errors, newline)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nPermissionError: [Errno 13] Permission denied: '.'\n","user_action":null}
{"bug_id":"BUG-8C40E06C","timestamp":"2026-02-06T08:50:06.836111Z","endpoint":"/api/v1/rollback/snapshot","error_type":"PermissionError","error_message":"[Errno 13] Permission denied: '.'","request_params":{"path":"/api/v1/rollback/snapshot","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 273, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\rollback.py\", line 350, in create_snapshot\n    snapshot = await manager.create_snapshot(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\src\\rollback\\snapshot_manager.py\", line 143, in create_snapshot\n    canvas_data = await self._read_canvas(canvas_path)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\src\\rollback\\snapshot_manager.py\", line 113, in _read_canvas\n    data = path.read_bytes()\n           ^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\pathlib.py\", line 1019, in read_bytes\n    with self.open(mode='rb') as f:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\pathlib.py\", line 1013, in open\n    return io.open(self, mode, buffering, encoding, errors, newline)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nPermissionError: [Errno 13] Permission denied: '.'\n","user_action":null}
{"bug_id":"BUG-7A5B6734","timestamp":"2026-02-06T08:50:07.157528Z","endpoint":"/api/v1/rollback/snapshot","error_type":"PermissionError","error_message":"[Errno 13] Permission denied: '.'","request_params":{"path":"/api/v1/rollback/snapshot","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 273, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\rollback.py\", line 350, in create_snapshot\n    snapshot = await manager.create_snapshot(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\src\\rollback\\snapshot_manager.py\", line 143, in create_snapshot\n    canvas_data = await self._read_canvas(canvas_path)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\src\\rollback\\snapshot_manager.py\", line 113, in _read_canvas\n    data = path.read_bytes()\n           ^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\pathlib.py\", line 1019, in read_bytes\n    with self.open(mode='rb') as f:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\pathlib.py\", line 1013, in open\n    return io.open(self, mode, buffering, encoding, errors, newline)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nPermissionError: [Errno 13] Permission denied: '.'\n","user_action":null}
{"bug_id":"BUG-5E04160D","timestamp":"2026-02-06T08:50:07.511596Z","endpoint":"/api/v1/rollback/snapshot","error_type":"PermissionError","error_message":"[Errno 13] Permission denied: '.'","request_params":{"path":"/api/v1/rollback/snapshot","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 273, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\rollback.py\", line 350, in create_snapshot\n    snapshot = await manager.create_snapshot(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\src\\rollback\\snapshot_manager.py\", line 143, in create_snapshot\n    canvas_data = await self._read_canvas(canvas_path)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\src\\rollback\\snapshot_manager.py\", line 113, in _read_canvas\n    data = path.read_bytes()\n           ^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\pathlib.py\", line 1019, in read_bytes\n    with self.open(mode='rb') as f:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\pathlib.py\", line 1013, in open\n    return io.open(self, mode, buffering, encoding, errors, newline)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nPermissionError: [Errno 13] Permission denied: '.'\n","user_action":null}
{"bug_id":"BUG-18334088","timestamp":"2026-02-06T08:50:07.884820Z","endpoint":"/api/v1/rollback/snapshot","error_type":"PermissionError","error_message":"[Errno 13] Permission denied: '.'","request_params":{"path":"/api/v1/rollback/snapshot","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 273, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\rollback.py\", line 350, in create_snapshot\n    snapshot = await manager.create_snapshot(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\src\\rollback\\snapshot_manager.py\", line 143, in create_snapshot\n    canvas_data = await self._read_canvas(canvas_path)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\src\\rollback\\snapshot_manager.py\", line 113, in _read_canvas\n    data = path.read_bytes()\n           ^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\pathlib.py\", line 1019, in read_bytes\n    with self.open(mode='rb') as f:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\pathlib.py\", line 1013, in open\n    return io.open(self, mode, buffering, encoding, errors, newline)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nPermissionError: [Errno 13] Permission denied: '.'\n","user_action":null}
{"bug_id":"BUG-F3F41F11","timestamp":"2026-02-06T08:50:09.959805Z","endpoint":"/api/v1/rollback/snapshot","error_type":"PermissionError","error_message":"[Errno 13] Permission denied: '.'","request_params":{"path":"/api/v1/rollback/snapshot","method":"POST","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 273, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\rollback.py\", line 350, in create_snapshot\n    snapshot = await manager.create_snapshot(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\src\\rollback\\snapshot_manager.py\", line 143, in create_snapshot\n    canvas_data = await self._read_canvas(canvas_path)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\src\\rollback\\snapshot_manager.py\", line 113, in _read_canvas\n    data = path.read_bytes()\n           ^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\pathlib.py\", line 1019, in read_bytes\n    with self.open(mode='rb') as f:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\pathlib.py\", line 1013, in open\n    return io.open(self, mode, buffering, encoding, errors, newline)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nPermissionError: [Errno 13] Permission denied: '.'\n","user_action":null}
{"bug_id":"BUG-CF91243F","timestamp":"2026-02-08T21:12:47.151956Z","endpoint":"/api/v1/review/history","error_type":"TypeError","error_message":"get_review_service() missing 2 required positional arguments: 'canvas_service' and 'task_manager'","request_params":{"path":"/api/v1/review/history","method":"GET","query_params":{"limit":"5"}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 111, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 104, in receive_nowait\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 320, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\review.py\", line 379, in get_review_history\n    review_service = get_review_service()\n                     ^^^^^^^^^^^^^^^^^^^^\nTypeError: get_review_service() missing 2 required positional arguments: 'canvas_service' and 'task_manager'\n","user_action":null}
{"bug_id":"BUG-382B7F5E","timestamp":"2026-02-08T21:12:47.196581Z","endpoint":"/api/v1/review/history","error_type":"TypeError","error_message":"get_review_service() missing 2 required positional arguments: 'canvas_service' and 'task_manager'","request_params":{"path":"/api/v1/review/history","method":"GET","query_params":{"show_all":"true"}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 111, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 104, in receive_nowait\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 320, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\review.py\", line 379, in get_review_history\n    review_service = get_review_service()\n                     ^^^^^^^^^^^^^^^^^^^^\nTypeError: get_review_service() missing 2 required positional arguments: 'canvas_service' and 'task_manager'\n","user_action":null}
{"bug_id":"BUG-70735E22","timestamp":"2026-02-08T21:12:47.220119Z","endpoint":"/api/v1/review/history","error_type":"TypeError","error_message":"get_review_service() missing 2 required positional arguments: 'canvas_service' and 'task_manager'","request_params":{"path":"/api/v1/review/history","method":"GET","query_params":{}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 111, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 104, in receive_nowait\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 320, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\review.py\", line 379, in get_review_history\n    review_service = get_review_service()\n                     ^^^^^^^^^^^^^^^^^^^^\nTypeError: get_review_service() missing 2 required positional arguments: 'canvas_service' and 'task_manager'\n","user_action":null}
{"bug_id":"BUG-FEB43E50","timestamp":"2026-02-08T21:12:47.252821Z","endpoint":"/api/v1/review/history","error_type":"TypeError","error_message":"get_review_service() missing 2 required positional arguments: 'canvas_service' and 'task_manager'","request_params":{"path":"/api/v1/review/history","method":"GET","query_params":{"days":"7","canvas_path":"test.canvas","limit":"10","show_all":"false"}},"stack_trace":"Traceback (most recent call last):\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 111, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 104, in receive_nowait\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\main.py\", line 320, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\anaconda3\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ROG\\æ‰˜ç¦\\Canvas\\backend\\app\\api\\v1\\endpoints\\review.py\", line 379, in get_review_history\n    review_service = get_review_service()\n                     ^^^^^^^^^^^^^^^^^^^^\nTypeError: get_review_service() missing 2 required positional arguments: 'canvas_service' and 'task_manager'\n","user_action":null}
