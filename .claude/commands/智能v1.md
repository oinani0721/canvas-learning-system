---
name: 智能v1
description: Generate UltraThink intelligent strategy v1 review canvas with automatic strategy analysis
---

# 🎯 智能v1 - UltraThink智能策略检验白板生成器

**这个命令是干什么的？**

智能v1命令是UltraThink智能策略系统的核心功能。它会自动分析你在原白板上填写的黄色理解，根据理解程度（0-100%）智能决策教学策略（补充解释/拆分问题/深度检验），生成包含策略节点的检验白板v1。

**核心创新**：
- ✅ 自动分析理解程度
- ✅ 智能决策教学策略
- ✅ 生成结构化节点组
- ✅ 永远包含黄色输出节点（费曼学习法）

**与传统检验白板的区别**：传统只有问题，智能v1包含针对性的教学策略节点

---

## 📝 什么时候使用？

### ✅ 适用场景

- **完成原白板学习**：填写了黄色理解节点，准备检验
- **想要智能辅助**：希望系统根据理解程度提供针对性帮助
- **首次生成检验白板**：生成v1版本（后续可以生成v2, v3迭代）
- **UltraThink工作流**：标准的无纸化检验系统入口

### ❌ 不适用场景

- **还在学习中**：如果原白板还没学完，不要生成检验白板
- **黄色节点未填写**：如果黄色理解为空，系统无法分析
- **只想要纯问题**：如果不要策略节点，使用传统检验白板生成

---

## 💡 快速使用

### 命令格式（3种方式）

#### 方式1：不带综述（推荐入门）
```bash
python generate_ultrathink_review.py "C:\path\to\原白板.canvas"
```

#### 方式2：带综述文本
```bash
python generate_ultrathink_review.py "C:\path\to\原白板.canvas" \
  --overview "我学习了鸽笼原理、逆否命题，理解了基本定义，但不太清楚应用场景..."
```

#### 方式3：从文件读取综述
```bash
python generate_ultrathink_review.py "C:\path\to\原白板.canvas" \
  --overview-file "我的综述.md"
```

### 使用示例

**示例1：基本使用（不带综述）**
```bash
cd C:\Users\ROG\托福
python generate_ultrathink_review.py "笔记库\CS70\CS70 Lecture1.canvas"
```

**示例2：带综述**
```bash
python generate_ultrathink_review.py "笔记库\离散数学\离散数学.canvas" \
  --overview "我学习了逆否命题、逆命题、否命题三个概念。理解了逆否命题的定义，知道它和原命题等价，但容易和其他两个混淆，还不清楚什么时候应该用逆否命题证明。"
```

**示例3：使用综述文件**
```bash
# 先填写 overview_template.md
python generate_ultrathink_review.py "笔记库\CS70\CS70 Lecture1.canvas" \
  --overview-file "overview_template.md"
```

---

## ⚙️ 系统工作原理

### 智能策略决策流程

```
1. 读取原白板
    ├─ 提取红色/紫色节点
    └─ 提取每个节点的黄色理解

2. 智能策略分析
    ├─ 分析黄色理解内容（关键词+文本特征）
    ├─ 计算理解程度（0-100%）
    └─ 决策教学策略：
        ├─ 0-30% → provide_explanation（补充解释）
        ├─ 40-70% → split_questions（拆分问题）
        └─ 80%+ → deep_verification（深度检验）

3. 生成策略节点组
    ├─ 补充解释：[问题] → [蓝色澄清路径] → [黄色总结]
    ├─ 拆分问题：[问题] → [紫色子问题组] → [黄色回答×3]
    └─ 深度检验：[问题] → [黄色理解节点]

4. 创建检验白板v1
    ├─ 包含所有策略节点
    ├─ 自动连接边
    └─ 生成进度追踪JSON
```

### 理解程度分析算法

**输入**：黄色理解文本
```
"好像懂了，但不确定应用场景"
```

**分析步骤**：
1. 关键词匹配（30+关键词库）
   - "好像懂了" → 50%
   - "但不确定" → -10%
   - 基础分：40%

2. 文本特征调整
   - 长度<10字 → -10%
   - 长度>100字 → +5%
   - 有例子（"比如"/"例如"）→ +10%
   - 有疑问（"？"）→ -5%

3. 最终理解程度：40%

4. 推荐策略：split_questions（拆分问题）

---

## 🎨 生成的节点结构

### 策略1：补充解释（理解度0-30%）

```
[检验问题节点 - 红色]
├─ 理解程度: 10%
├─ 推荐策略: provide_explanation
└─ 检验问题: 请用自己的话解释...

        ↓ (边：补充解释)

[蓝色澄清路径节点]
├─ 第1步：最简单的定义
├─ 第2步：生活中的例子
├─ 第3步：要解决什么问题
└─ 第4步：关键要点

        ↓ (边：总结要点)

[黄色总结节点]
├─ 1. 核心概念是什么？（1句话）
├─ 2. 关键要点有哪些？（3-5个）
└─ 3. 举一个你自己想到的例子

布局：水平排列（x=0, x=800, x=1600）
```

### 策略2：拆分问题（理解度40-70%）

```
[检验问题节点 - 紫色]
├─ 理解程度: 55%
├─ 推荐策略: split_questions
└─ 检验问题: ...

        ↓ (边：拆分问题)

[紫色子问题组节点]
├─ 子问题1: 准确定义是什么？
├─ 子问题2: 与相关概念的区别？
└─ 子问题3: 实际应用场景？

        ↓ (边：回答1/2/3)

[黄色回答节点1]
└─ 回答子问题1...

[黄色回答节点2]
└─ 回答子问题2...

[黄色回答节点3]
└─ 回答子问题3...

布局：问题(x=0) → 子问题组(x=800) → 回答(x=1400, 垂直排列)
```

### 策略3：深度检验（理解度80%+）

```
[检验问题节点 - 紫色]
├─ 理解程度: 85%
├─ 推荐策略: deep_verification
└─ 检验问题: 深度应用题...

        ↓ (边：回答)

[黄色理解节点]
└─ 写下你的理解和解答...

布局：标准布局（问题+黄色节点）
```

---

## 🔗 完整工作流

### UltraThink智能策略完整循环

```
Phase 1: 原白板学习
├─ 学习材料
├─ 填写黄色理解节点
│   "完全不懂，感觉很抽象"
│   "好像懂了，但不知道怎么用"
└─ 评分 → 红色/紫色节点

Phase 2: （可选）写综述
├─ 填写 overview_template.md
└─ 说明：我学习了...，理解了...，不太懂...

Phase 3: 生成智能v1检验白板
├─ 命令：python generate_ultrathink_review.py "原白板.canvas" --overview "综述"
├─ 系统自动：
│   ├─ 读取所有红/紫节点的黄色理解
│   ├─ 分析理解程度（0-100%）
│   ├─ 决策策略
│   │   ├─ 0-30% → 补充解释（蓝色解释 + 黄色总结）
│   │   ├─ 40-70% → 拆分问题（紫色子问题 + 黄色回答×3）
│   │   └─ 80%+ → 深度检验（标准问题 + 黄色回答）
│   └─ 生成智能节点组
└─ 输出：原白板-检验白板-v1.canvas

Phase 4: 填写v1黄色节点
├─ 打开检验白板v1（不看原白板！）
├─ 补充解释策略：
│   ├─ 阅读蓝色澄清路径解释
│   └─ 在黄色节点总结要点
└─ 拆分问题策略：
    ├─ 阅读紫色子问题组
    └─ 在黄色回答节点逐个回答

Phase 5: 评分 + 策略调整
├─ 评分所有黄色节点
├─ auto_followup_generator自动生成follow-up
└─ 策略切换（如果当前策略无效）

Phase 6: 继续迭代
└─ 直到80%节点≥80分

Phase 7: 生成v2（可选）
└─ 只包含未完成节点
```

---

## 📊 实际效果展示

### 测试案例：CS70 Lecture1

**输入**：
- 原白板：CS70 Lecture1.canvas
- 节点：75个（41红色 + 34紫色）
- 黄色理解：大部分为空或很短

**智能策略分析结果**：
```
策略分布：
- 补充解释策略：46个节点（61%）
- 拆分问题策略：29个节点（39%）
- 深度检验策略：0个节点

原因：首次学习，理解度普遍较低
```

**生成的v1结构**：
```
总节点数：284
├─ 检验问题节点：75
├─ 策略节点：
│   ├─ 蓝色解释节点：47
│   ├─ 紫色子问题组：29
│   └─ 黄色输出节点：133 ✅
└─ 边数：208

黄色节点占比：133/284 = 46.8%
→ 永远有输出！费曼学习法实现 ✅
```

---

## 🆘 常见问题

**Q: 智能v1和传统检验白板有什么区别？**
A:
- **传统检验白板**：只有问题节点，需要手动添加Agent辅助
- **智能v1**：自动包含策略节点（解释/子问题），结构化学习

**Q: 生成v1后还能修改吗？**
A: 可以！生成的节点都是建议：
- 可以手动调整策略
- 可以添加/删除节点
- 可以修改问题内容

**Q: 如果我不想要策略节点怎么办？**
A: 两个选择：
1. 使用传统 `generate_ultrathink_review.py` 不带策略
2. 手动删除生成的策略节点（保留问题节点）

**Q: 综述是必须的吗？**
A: 不是必须的：
- **不带综述**：系统只分析黄色理解
- **带综述**：系统会考虑综述信息，生成更针对性的问题

**Q: 生成v1后怎么知道策略有没有效？**
A:
1. 填写黄色节点
2. 评分（/评分命令）
3. 如果分数提升不明显 → 策略可能需要调整
4. auto_followup_generator会自动检测并切换策略（未来功能）

**Q: 可以强制指定某个策略吗？**
A: 可以！使用 `/强制策略` 命令手动指定

---

## 💡 使用技巧

### 技巧1：黄色理解要表达困惑

❌ 不好的黄色理解：
```
"不懂"
```

✅ 好的黄色理解：
```
"我知道逆否命题的定义，但不理解为什么等价，
也不知道什么时候应该用逆否命题证明"
```

**效果**：
- 不好的理解 → 系统只能猜测 → 生成通用节点
- 好的理解 → 系统识别盲区 → 生成针对性节点

### 技巧2：写详细的综述

综述模板结构：
```markdown
## 我理解的核心概念
- 鸽笼原理
- 逆否命题
- ...

## 每个概念的理解
### 鸽笼原理
我的理解：n+1个东西放n个盒子，至少有一个盒子≥2个
我不确定的点：不知道怎么构造"鸽笼"和"东西"

### 逆否命题
...

## 我觉得的重点和难点
重点：逆否命题的等价性
难点：不知道什么时候用

## 自我评估
掌握程度：50%
最不自信：应用场景
```

**效果**：综述越详细，生成的问题越针对性

### 技巧3：迭代生成

```
第一次生成v1（不带综述）
    ↓
填写 + 评分 → 发现问题
    ↓
写详细综述
    ↓
删除v1，重新生成
    ↓
效果更好！
```

---

## 🎯 与其他命令的配合

### 在检验白板v1上使用其他Agent

智能v1生成后，你可以在检验白板上使用所有Agent：

```
检验白板v1
    ↓
遇到不懂的节点
    ↓
在检验白板上调用：
├─ /澄清路径（深度讲解）
├─ /对比表（区分易混概念）
├─ /记忆锚点（巩固记忆）
├─ /评分（检验理解）
└─ ... (所有Agent)
    ↓
持续扩展检验白板
    ↓
直到能复现整个知识体系
```

### 生成v2迭代

```
v1评分完成
    ↓
80%节点≥80分 → 完成 ✅
    ↓
否则：生成v2
    ↓
v2只包含<80分的节点
    ↓
填写v2 → 评分 → 生成v3...
    ↓
持续迭代直到完全理解
```

---

## 🎓 最佳实践

### ✅ 生成前的准备

1. ✅ 确保原白板黄色理解已填写
2. ✅ 用自己的话，表达真实理解和困惑
3. ✅ （可选）写详细的综述
4. ✅ 备份原白板（系统会自动备份）

### ✅ 生成后的使用

1. ✅ 不看原白板，只看检验白板
2. ✅ 根据策略节点提示填写黄色节点
3. ✅ 评分 → 根据推荐使用Agent
4. ✅ 持续迭代优化理解
5. ✅ 最终目标：80%节点≥80分

### ❌ 常见错误

- ❌ 黄色理解为空或太简单
- ❌ 生成后边看原白板边填写
- ❌ 只填一遍就不管了
- ❌ 不用评分和Agent辅助

---

**提示**：
- 查看综述模板？使用 `/写综述`
- 查看完整工作流？使用 `/ultrathink帮助`
- 强制指定策略？使用 `/强制策略`
- 评分黄色节点？使用 `/评分`
