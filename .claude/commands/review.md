---
name: review
description: è‰¾å®¾æµ©æ–¯å¤ä¹ ç³»ç»Ÿå‘½ä»¤ï¼Œæ˜¾ç¤ºä»Šæ—¥å¤ä¹ ä»»åŠ¡å’Œå¤ä¹ å»ºè®®
tools: Bash
model: sonnet
---

# /review Command

è‰¾å®¾æµ©æ–¯å¤ä¹ ç³»ç»Ÿå‘½ä»¤ï¼ŒåŸºäºé—å¿˜æ›²çº¿æ™ºèƒ½æ˜¾ç¤ºå¤ä¹ ä»»åŠ¡å’Œå»ºè®®ã€‚

## Usage

```bash
/review [show|stats|complete|help] [options...]
```

## Subcommands

### show - æ˜¾ç¤ºä»Šæ—¥å¤ä¹ ä»»åŠ¡
æ˜¾ç¤ºä»Šå¤©éœ€è¦å¤ä¹ çš„æ‰€æœ‰æ¦‚å¿µï¼ŒåŒ…æ‹¬è®°å¿†ä¿æŒç‡å’Œå¤ä¹ å»ºè®®ã€‚

**ç”¨æ³•**: `/review show [user_id] [format]`

**å‚æ•°**:
- `user_id`: ç”¨æˆ·ID (å¯é€‰ï¼Œé»˜è®¤: default)
- `format`: è¾“å‡ºæ ¼å¼ (å¯é€‰ï¼Œtable|jsonï¼Œé»˜è®¤: table)

**ç¤ºä¾‹**:
```bash
/review show
/review show user123 json
```

### stats - æ˜¾ç¤ºå¤ä¹ ç»Ÿè®¡
æ˜¾ç¤ºå¤ä¹ ç»Ÿè®¡æ•°æ®å’Œå­¦ä¹ æ•ˆç‡åˆ†æã€‚

**ç”¨æ³•**: `/review stats [user_id] [days] [format]`

**å‚æ•°**:
- `user_id`: ç”¨æˆ·ID (å¯é€‰ï¼Œé»˜è®¤: default)
- `days`: ç»Ÿè®¡å¤©æ•° (å¯é€‰ï¼Œé»˜è®¤: 30)
- `format`: è¾“å‡ºæ ¼å¼ (å¯é€‰ï¼Œsummary|detailed|jsonï¼Œé»˜è®¤: summary)

**ç¤ºä¾‹**:
```bash
/review stats
/review stats user123 7 detailed
```

### complete - å®Œæˆå¤ä¹ è®°å½•
äº¤äº’å¼è®°å½•å¤ä¹ ç»“æœå’Œæ»¡æ„åº¦è¯„åˆ†ã€‚

**ç”¨æ³•**: `/review complete [schedule_id]`

**å‚æ•°**:
- `schedule_id`: å¤ä¹ è®¡åˆ’ID (å¯é€‰ï¼Œæœªæä¾›æ—¶ä»ä»Šæ—¥ä»»åŠ¡é€‰æ‹©)

**ç¤ºä¾‹**:
```bash
/review complete
/review complete review-abc123def
```

### help - æ˜¾ç¤ºå¸®åŠ©
æ˜¾ç¤ºå‘½ä»¤ä½¿ç”¨å¸®åŠ©ä¿¡æ¯ã€‚

**ç”¨æ³•**: `/review help`

## Output Format

### Table Format (é»˜è®¤)
```
ğŸ“… ä»Šæ—¥å¤ä¹ ä»»åŠ¡ (3ä¸ª)
================================================================================

1. é€†å¦å‘½é¢˜
   ğŸ“ Canvasæ–‡ä»¶: ç¦»æ•£æ•°å­¦.canvas
   ğŸ• è®¡åˆ’å¤ä¹ æ—¥æœŸ: 2025-01-23
   ğŸ’ª è®°å¿†å¼ºåº¦: 14.2
   ğŸ“Š è®°å¿†ä¿æŒç‡: 67.8%
   â±ï¸ é—´éš”å¤©æ•°: 3å¤©
   ğŸ“ˆ æŒæ¡ç¨‹åº¦: 45.3%
   ğŸ“ æœ€è¿‘è¯„åˆ†: 7/10

2. å‘½é¢˜é€»è¾‘
   ğŸ“ Canvasæ–‡ä»¶: ç¦»æ•£æ•°å­¦.canvas
   ...

================================================================================
ğŸ’¡ æç¤º: ä½¿ç”¨ 'complete' å‘½ä»¤è®°å½•å¤ä¹ ç»“æœ
```

### JSON Format
```json
[
  {
    "schedule_id": "review-abc123def4567",
    "canvas_file": "ç¦»æ•£æ•°å­¦.canvas",
    "node_id": "node-789",
    "concept_name": "é€†å¦å‘½é¢˜",
    "next_review_date": "2025-01-23",
    "review_interval_days": 3,
    "memory_strength": 14.2,
    "retention_rate": 0.678,
    "mastery_level": 0.453
  }
]
```

## Features

### ğŸ§  æ™ºèƒ½è°ƒåº¦
- åŸºäºè‰¾å®¾æµ©æ–¯é—å¿˜æ›²çº¿ R(t) = e^(-t/S)
- åŠ¨æ€è®°å¿†å¼ºåº¦è°ƒæ•´
- ä¸ªæ€§åŒ–å¤ä¹ é—´éš” [1, 3, 7, 15, 30]å¤©

### ğŸ“Š ç»Ÿè®¡åˆ†æ
- å­¦ä¹ æ•ˆç‡åˆ†æ
- è®°å¿†ä¿æŒç‡è¶‹åŠ¿
- ä¸»é¢˜åˆ†å¸ƒç»Ÿè®¡
- å¤ä¹ æ—¶é—´ä¼˜åŒ–å»ºè®®

### ğŸ’¾ æ•°æ®ç®¡ç†
- SQLiteæœ¬åœ°å­˜å‚¨
- è‡ªåŠ¨å¤‡ä»½åŠŸèƒ½
- JSON/CSVæ•°æ®å¯¼å‡º
- è·¨å¹³å°æ”¯æŒ

## Examples

### åŸºç¡€ä½¿ç”¨
```bash
# æŸ¥çœ‹ä»Šæ—¥å¤ä¹ ä»»åŠ¡
/review show

# æŸ¥çœ‹ç”¨æˆ·ç»Ÿè®¡
/review stats myuser 30

# å®Œæˆå¤ä¹ ï¼ˆäº¤äº’å¼ï¼‰
/review complete
```

### é«˜çº§ä½¿ç”¨
```bash
# JSONæ ¼å¼è¾“å‡ºï¼Œä¾¿äºè„šæœ¬å¤„ç†
/review show myuser json > today_reviews.json

# è¯¦ç»†ç»Ÿè®¡ï¼ŒåŒ…å«ä¸»é¢˜åˆ†å¸ƒ
/review stats myuser 90 detailed

# æŒ‡å®šä»»åŠ¡å®Œæˆå¤ä¹ 
/review complete review-abc123def
```

### é›†æˆä½¿ç”¨
```bash
# æŸ¥çœ‹ç‰¹å®šCanvasæ–‡ä»¶çš„å¤ä¹ ä»»åŠ¡
/review show | grep "ç¦»æ•£æ•°å­¦"

# å¯¼å‡ºç»Ÿè®¡æ•°æ®
/review stats myuser 30 json > learning_report.json
```

## Configuration

å¤ä¹ ç³»ç»Ÿé€šè¿‡ `config/review_settings.yaml` é…ç½®æ–‡ä»¶è¿›è¡Œä¸ªæ€§åŒ–è®¾ç½®ï¼š

```yaml
review_settings:
  default_intervals: [1, 3, 7, 15, 30]  # å¤ä¹ é—´éš”
  default_memory_strength: 10.0           # é»˜è®¤è®°å¿†å¼ºåº¦
  strength_adjustment_factor: 0.2         # è°ƒæ•´å› å­

advanced_settings:
  adaptive_intervals: true                # è‡ªé€‚åº”é—´éš”
  difficulty_based_adjustment: true       # åŸºäºéš¾åº¦çš„è°ƒæ•´
```

## Integration with Canvas

å¤ä¹ ç³»ç»Ÿä¸Canvasç™½æ¿æ— ç¼é›†æˆï¼š
- è‡ªåŠ¨ä»CanvasèŠ‚ç‚¹åˆ›å»ºå¤ä¹ è®¡åˆ’
- æ”¯æŒæ‰¹é‡å¤„ç†å¤šä¸ªCanvasæ–‡ä»¶
- ä¸Canvasé¢œè‰²ç³»ç»Ÿä¿æŒä¸€è‡´
- æ”¯æŒCanvasèŠ‚ç‚¹çŠ¶æ€åŒæ­¥

## Troubleshooting

### å¸¸è§é—®é¢˜

**Q: ä¸ºä»€ä¹ˆæ²¡æœ‰æ˜¾ç¤ºä»Šæ—¥å¤ä¹ ä»»åŠ¡ï¼Ÿ**
A: å¯èƒ½åŸå› ï¼š
- æ‰€æœ‰å¤ä¹ è®¡åˆ’éƒ½å·²å®Œæˆ
- å¤ä¹ è®¡åˆ’è¿˜æœªåˆ°æœŸ
- æ•°æ®åº“æ–‡ä»¶ä¸å­˜åœ¨æˆ–æŸå

**Q: å¤ä¹ è®°å½•å¤±è´¥æ€ä¹ˆåŠï¼Ÿ**
A: æ£€æŸ¥ï¼š
- è¾“å…¥çš„è¯„åˆ†èŒƒå›´æ˜¯å¦æ­£ç¡® (1-10)
- å¤ä¹ è®¡åˆ’IDæ˜¯å¦æœ‰æ•ˆ
- æ•°æ®åº“æ–‡ä»¶æƒé™æ˜¯å¦æ­£å¸¸

**Q: å¦‚ä½•ä¿®æ”¹å¤ä¹ é—´éš”ï¼Ÿ**
A: ç¼–è¾‘ `config/review_settings.yaml` æ–‡ä»¶ä¸­çš„ `default_intervals` é…ç½®

## Technical Details

### Algorithm
ä½¿ç”¨è‰¾å®¾æµ©æ–¯é—å¿˜æ›²çº¿å…¬å¼ï¼š
```
R(t) = e^(-t/S)
```
- R(t): è®°å¿†ä¿æŒç‡ (0-1)
- t: æ—¶é—´é—´éš” (å¤©)
- S: è®°å¿†å¼ºåº¦å‚æ•°

### Memory Strength Adjustment
æ ¹æ®ç”¨æˆ·è¯„åˆ†åŠ¨æ€è°ƒæ•´ï¼š
```
æ–°å¼ºåº¦ = å½“å‰å¼ºåº¦ Ã— (1.0 + (è¯„åˆ†-5) Ã— è°ƒæ•´å› å­)
```

### Review Interval Selection
æ ¹æ®è°ƒæ•´åçš„è®°å¿†å¼ºåº¦é€‰æ‹©æ ‡å‡†é—´éš”ï¼š
- S < 5: 1å¤©
- 5 â‰¤ S < 10: 3å¤©
- 10 â‰¤ S < 20: 7å¤©
- 20 â‰¤ S < 40: 15å¤©
- S â‰¥ 40: 30å¤©
