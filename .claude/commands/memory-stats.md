---
name: memory-stats
description: 查看Canvas学习记忆统计和系统状态 (Story 8.17)
tools: Read, Bash, Write
model: sonnet
---

# Canvas学习记忆统计命令

## 功能描述

查看Story 8.17实时记忆系统的详细统计信息，包括学习数据量、系统状态和隐私配置。

## 使用方式

```bash
/memory-stats                    # 显示基础统计
/memory-stats --detailed        # 显示详细统计
/memory-stats --user-id user123 # 查看指定用户统计
/memory-stats --system          # 显示系统状态
/memory-stats --privacy         # 显示隐私配置
```

## 统计维度

### 📊 学习数据统计
- **语义记忆条目** - 概念理解和知识点数量
- **情景记忆链接** - 学习经历和事件数量
- **工作记忆快照** - 当前活跃学习状态
- **学习会话总数** - 历史学习会话统计
- **活动捕获数量** - 学习活动记录总数

### ⏰ 时间分析
- **总学习时长** - 累计学习时间
- **平均会话时长** - 单次学习平均时间
- **最近活动时间** - 最后学习时间
- **学习频率** - 每日/每周学习次数

### 🎯 学习效果
- **理解度提升率** - 学习前后理解度变化
- **Agent使用效率** - 各Agent的成功率
- **错误修正率** - 从错误中学习的比例
- **知识迁移次数** - 跨领域应用实例

### 🔒 系统状态
- **数据存储使用** - 磁盘空间占用
- **内存使用情况** - 当前内存占用
- **加密状态** - 数据加密配置
- **备份状态** - 数据备份情况

## 使用示例

### 基础统计信息
```bash
/memory-stats
```

输出示例：
```
📊 Canvas学习记忆统计
📅 统计时间: 2025-01-25 20:30:00

📚 学习数据概览:
  语义记忆条目: 156 条
  情景记忆链接: 89 个
  工作记忆快照: 12 个
  学习会话总数: 34 次
  活动记录总数: 1,247 条

⏰ 时间统计:
  总学习时长: 18小时25分钟
  平均会话时长: 32分钟
  最近学习: 2025-01-25 19:45
  本周学习: 12小时15分钟

🎯 学习效果:
  理解度提升: +23.5%
  Agent成功率: 87.2%
  错误修正率: 78.9%
  知识迁移: 15次

💾 存储状态:
  数据占用: 2.8MB
  内存使用: 45MB
  加密状态: ✅ AES-256
  备份状态: ✅ 最新
```

### 详细统计报告
```bash
/memory-stats --detailed --user-id your_id
```

输出示例：
```
📊 详细学习统计报告 - 用户: your_id

📚 语义记忆分析:
  数学概念: 68 条 (43.6%)
  程序设计: 45 条 (28.8%)
  语言学习: 28 条 (17.9%)
  其他领域: 15 条 (9.6%)

🤖 Agent使用统计:
  basic-decomposition: 42次 (成功率: 91%)
  scoring-agent: 38次 (成功率: 95%)
  oral-explanation: 29次 (成功率: 86%)
  clarification-path: 22次 (成功率: 89%)
  memory-anchor: 18次 (成功率: 83%)

📈 学习进度趋势:
  最近7天理解度: +8.2%
  最近30天理解度: +23.5%
  平均每次提升: +2.1%
  学习稳定性: 高

🔗 知识关联网络:
  概念节点: 156个
  关联链接: 289条
  知识簇: 12个
  核心概念: 8个

⚠️ 注意事项:
  • 建议增加对"算法设计"概念的复习
  • "递归"相关概念理解度有待提升
  • 考虑使用更多对比表来区分易混淆概念
```

### 系统状态检查
```bash
/memory-stats --system
```

输出示例：
```
🔧 Story 8.17 系统状态

💾 数据存储:
  总数据量: 2.8MB
  最新备份: 2025-01-25 18:00
  磁盘可用: 45.2GB
  压缩率: 62%

🖥️ 系统性能:
  CPU使用: 5%
  内存占用: 45MB/512MB
  活跃会话: 0个
  缓冲区: 空闲

🔒 安全状态:
  数据加密: ✅ AES-256
  访问控制: ✅ 用户专用
  匿名化: ✅ 已启用
  审计日志: ✅ 记录中

📡 连接状态:
  活动捕获: ✅ 运行中
  模式分析: ✅ 就绪
  记忆集成: ✅ 正常
  隐私管理: ✅ 活跃
```

### 隐私配置查看
```bash
/memory-stats --privacy
```

输出示例：
```
🔒 隐私配置状态

🛡️ 当前隐私级别: enhanced (增强保护)

📊 数据控制:
  ✅ 数据导出: 已启用
  ✅ 选择性删除: 已启用
  ✅ 记忆优化: 已启用
  ✅ 访问日志: 已启用

⏰ 数据保留策略:
  详细活动: 365天
  汇总洞察: 7年
  匿名模式: 永久

🔐 加密设置:
  传输加密: TLS 1.3
  存储加密: AES-256
  密钥管理: 自动轮换
  完整性校验: SHA-256
```

## 数据来源

统计数据来自Story 8.17的核心模块：
- `RealtimeCanvasMemoryIntegration` - 会话管理
- `LearningActivityCapture` - 活动记录
- `LearningPatternAnalyzer` - 模式分析
- `MemorySystemIntegrator` - 记忆集成
- `PrivacyManager` - 隐私管理

## 相关命令

- `/memory-start` - 启动学习记录
- `/memory-analyze` - 分析学习模式
- `/memory-export` - 导出学习数据
- `/memory-clean` - 清理过期数据

---

**Story 8.17 学习统计 - 数据驱动，优化学习**
