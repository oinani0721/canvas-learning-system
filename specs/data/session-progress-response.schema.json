{
  "$defs": {
    "VerificationStatusEnum": {
      "description": "Verification session status.\n\nStory 31.6 AC-31.6.4: Support pause/resume session.\n\n[Source: backend/app/services/verification_service.py:VerificationStatus]",
      "enum": [
        "pending",
        "in_progress",
        "paused",
        "completed",
        "cancelled"
      ],
      "title": "VerificationStatusEnum",
      "type": "string"
    }
  },
  "description": "Real-time verification session progress response.\n\nStory 31.6 AC-31.6.1: Frontend displays \"已验证 X/Y 个概念\" progress.\nStory 31.6 AC-31.6.2: Color distribution real-time updates.\nStory 31.6 AC-31.6.3: Mastery percentage = green / total * 100%.\n\n[Source: docs/stories/31.6.story.md#Task-2]\n[Source: backend/app/services/verification_service.py:VerificationProgress]",
  "properties": {
    "session_id": {
      "description": "Unique session identifier",
      "example": "sess_abc123",
      "title": "Session Id",
      "type": "string"
    },
    "canvas_name": {
      "description": "Source canvas name",
      "example": "离散数学",
      "title": "Canvas Name",
      "type": "string"
    },
    "total_concepts": {
      "description": "Total concepts to verify",
      "example": 10,
      "minimum": 0,
      "title": "Total Concepts",
      "type": "integer"
    },
    "completed_concepts": {
      "description": "Concepts completed so far",
      "example": 5,
      "minimum": 0,
      "title": "Completed Concepts",
      "type": "integer"
    },
    "current_concept": {
      "description": "Current concept being verified",
      "example": "逆否命题",
      "title": "Current Concept",
      "type": "string"
    },
    "current_concept_idx": {
      "description": "Index of current concept (0-based)",
      "example": 5,
      "minimum": 0,
      "title": "Current Concept Idx",
      "type": "integer"
    },
    "green_count": {
      "default": 0,
      "description": "Concepts marked as mastered (green)",
      "minimum": 0,
      "title": "Green Count",
      "type": "integer"
    },
    "yellow_count": {
      "default": 0,
      "description": "Concepts partially understood (yellow)",
      "minimum": 0,
      "title": "Yellow Count",
      "type": "integer"
    },
    "purple_count": {
      "default": 0,
      "description": "Concepts need decomposition (purple)",
      "minimum": 0,
      "title": "Purple Count",
      "type": "integer"
    },
    "red_count": {
      "default": 0,
      "description": "Concepts not understood (red)",
      "minimum": 0,
      "title": "Red Count",
      "type": "integer"
    },
    "status": {
      "$ref": "#/$defs/VerificationStatusEnum",
      "default": "pending",
      "description": "Current session status"
    },
    "progress_percentage": {
      "description": "Completion percentage (completed/total * 100)",
      "example": 50.0,
      "maximum": 100.0,
      "minimum": 0.0,
      "title": "Progress Percentage",
      "type": "number"
    },
    "mastery_percentage": {
      "description": "Mastery rate (green/completed * 100)",
      "example": 60.0,
      "maximum": 100.0,
      "minimum": 0.0,
      "title": "Mastery Percentage",
      "type": "number"
    },
    "hints_given": {
      "default": 0,
      "description": "Hints given for current concept",
      "minimum": 0,
      "title": "Hints Given",
      "type": "integer"
    },
    "max_hints": {
      "default": 3,
      "description": "Maximum hints allowed per concept",
      "minimum": 0,
      "title": "Max Hints",
      "type": "integer"
    },
    "started_at": {
      "description": "Session start timestamp",
      "format": "date-time",
      "title": "Started At",
      "type": "string"
    },
    "updated_at": {
      "description": "Last update timestamp",
      "format": "date-time",
      "title": "Updated At",
      "type": "string"
    }
  },
  "required": [
    "session_id",
    "canvas_name",
    "total_concepts",
    "completed_concepts",
    "current_concept",
    "current_concept_idx",
    "progress_percentage",
    "mastery_percentage",
    "started_at",
    "updated_at"
  ],
  "title": "SessionProgressResponse",
  "type": "object"
}
