{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://canvas-learning.com/schemas/review-concept.schema.json",
  "x-source-verification": {
    "verified_at": "2025-11-25T19:15:00Z",
    "sources": [
      {"type": "context7", "library_id": "/json-schema-org/json-schema-spec", "topic": "draft-07 schema validation"},
      {"type": "prd", "section": "FR3", "epic": "Epic 14"}
    ]
  },
  "title": "复习概念",
  "description": "艾宾浩斯复习系统中的概念定义 (Epic 14). Context7 Verified: /json-schema-org/json-schema-spec (draft-07)",
  "type": "object",
  "properties": {
    "concept_id": {
      "type": "string",
      "format": "uuid",
      "description": "概念唯一标识"
    },
    "name": {
      "type": "string",
      "description": "概念名称"
    },
    "canvas_path": {
      "type": "string",
      "description": "来源Canvas路径"
    },
    "node_id": {
      "type": "string",
      "description": "来源节点ID"
    },
    "initial_score": {
      "type": "number",
      "minimum": 0,
      "maximum": 100,
      "description": "初始评分"
    },
    "current_score": {
      "type": "number",
      "minimum": 0,
      "maximum": 100,
      "description": "当前评分"
    },
    "review_count": {
      "type": "integer",
      "minimum": 0,
      "description": "复习次数"
    },
    "last_review_date": {
      "type": "string",
      "format": "date-time",
      "description": "上次复习日期"
    },
    "next_review_date": {
      "type": "string",
      "format": "date-time",
      "description": "下次复习日期"
    },
    "priority": {
      "type": "number",
      "minimum": 0,
      "maximum": 1,
      "description": "复习优先级 (0-1)"
    },
    "priority_factors": {
      "type": "object",
      "description": "优先级计算因子（4维度）",
      "properties": {
        "temporal_score": {
          "type": "number",
          "description": "时间维度评分"
        },
        "graphiti_score": {
          "type": "number",
          "description": "知识网络评分"
        },
        "semantic_score": {
          "type": "number",
          "description": "语义相关评分"
        },
        "performance_score": {
          "type": "number",
          "description": "历史表现评分"
        }
      }
    },
    "tags": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "概念标签"
    },
    "status": {
      "type": "string",
      "enum": ["active", "mastered", "archived"],
      "description": "概念状态"
    },
    "created_at": {
      "type": "string",
      "format": "date-time",
      "description": "添加时间"
    }
  },
  "required": ["concept_id", "name", "canvas_path", "node_id", "status"]
}
