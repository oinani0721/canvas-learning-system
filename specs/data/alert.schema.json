{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://canvas-learning.com/schemas/alert.schema.json",
  "title": "性能告警",
  "description": "系统性能告警定义 (Epic 17)",
  "type": "object",
  "properties": {
    "alert_id": {
      "type": "string",
      "format": "uuid",
      "description": "告警唯一标识"
    },
    "name": {
      "type": "string",
      "description": "告警名称"
    },
    "severity": {
      "type": "string",
      "enum": ["critical", "warning", "info"],
      "description": "告警级别"
    },
    "status": {
      "type": "string",
      "enum": ["firing", "resolved", "acknowledged"],
      "description": "告警状态"
    },
    "message": {
      "type": "string",
      "description": "告警消息"
    },
    "description": {
      "type": "string",
      "description": "详细描述"
    },
    "metric_name": {
      "type": "string",
      "description": "触发指标名称"
    },
    "current_value": {
      "type": "number",
      "description": "当前值"
    },
    "threshold": {
      "type": "number",
      "description": "阈值"
    },
    "comparison": {
      "type": "string",
      "enum": [">", ">=", "<", "<=", "==", "!="],
      "description": "比较方式"
    },
    "labels": {
      "type": "object",
      "additionalProperties": {
        "type": "string"
      },
      "description": "标签"
    },
    "triggered_at": {
      "type": "string",
      "format": "date-time",
      "description": "触发时间"
    },
    "resolved_at": {
      "type": "string",
      "format": "date-time",
      "description": "解决时间"
    },
    "acknowledged_by": {
      "type": "string",
      "description": "确认人"
    },
    "notification_sent": {
      "type": "boolean",
      "default": false,
      "description": "是否已发送通知"
    }
  },
  "required": ["alert_id", "name", "severity", "status", "message", "triggered_at"]
}
